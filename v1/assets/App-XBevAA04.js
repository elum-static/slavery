(() => {var e = document.createElement('style');e.innerText = ".Jr{position:relative;width:100%;height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.iB{position:fixed;bottom:0;left:0;right:0;z-index:100;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform 1s ease-out;transition:-webkit-transform 1s ease-out;-moz-transition:transform 1s ease-out, -moz-transform 1s ease-out;transition:transform 1s ease-out;transition:transform 1s ease-out, -webkit-transform 1s ease-out, -moz-transform 1s ease-out;padding-bottom:var(--safe-area-inset-bottom)}.Av{position:relative;margin-bottom:-webkit-calc(var(--safe-area-inset-bottom) * -1);margin-bottom:-moz-calc(var(--safe-area-inset-bottom) * -1);margin-bottom:calc(var(--safe-area-inset-bottom) * -1)}.Ic>.QM{border-top:solid 1px var(--bg_light_secondary);background-color:var(--bg_secondary)}.pq>.zq{-webkit-transform:translateY(100%);-moz-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.GP>.DV{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.vc{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;padding:8px 0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;overflow:hidden}.AS{background-color:var(--bg_color_gold);border:solid 2px var(--color_gold);border-radius:12px}.nn{background-color:var(--bg_color_silver);border:solid 2px var(--color_silver);border-radius:12px}.UR{background-color:var(--bg_color_bronze);border:solid 2px var(--color_bronze);border-radius:12px}.AU{padding:10px 5px 0}.fn{padding-top:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}.mr{position:relative;width:100%;padding:0 5px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}.TS{overflow:hidden;padding:6px 12px}._firstChild .ns:first-child{padding-top:12px}._lastChild .YB:last-child{padding-bottom:12px}.Oz{border-radius:12px;padding:8px 12px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;background-color:var(--bg_primary)}.dA{display:grid;grid-template-columns:repeat(4,1fr);grid-column-gap:6px;padding:12px}.fS{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;border-radius:12px;border:solid 1px transparent;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;min-height:130px;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.ki{color:var(--separator_primary);-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.aq._active .MN{color:var(--text_primary)}.eg._active{border:solid 1px var(--text_primary)}.KA{background-color:var(--bg_primary);border:solid 1px var(--separator_primary)}.ro .aU{color:var(--color_accent)}.LA{background-color:var(--bg_secondary);border:solid 1px var(--separator_primary)}.tb .lL{color:var(--color_accent)}.yk{background-color:var(--color_accent)}.Ie .LV{color:var(--text_primary)}.OZ{padding-bottom:10px}.ba{padding-top:5px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;height:100%}.nC{color:red}\n";document.head.appendChild(e)})();import{s as e,t as r,m as t,a as n,a3 as a,a4 as i,i as l,c as d,b as c,ae as s,J as g,K as o,af as u,G as h,N as p,y as m,l as b,d as f,e as y,S as _,p as v,a9 as w,$ as x,ag as k,ah as z,ai as M,aj as C,U as S,a7 as Z,r as L,F as U,W as I,Z as R,ak as D,al as T,P as A,am as B,an as F,ao as P,ap as H,k as q,Y as $,Q as E,L as N,R as j,x as V,z as G,aq as O,ar as J,E as K}from"./index-Cu7b1NUh.js";import{P as Q,S as Y,A as W,T as X,N as ee,i as re,b as te,F as ne,d as ae,v as ie,e as le,q as de,G as ce,L as se,j as ge,k as oe,l as ue,n as he,m as pe,o as me,f as be,g as fe,s as ye,t as _e,r as ve,w as we,B as xe,x as ke,y as ze,z as Me,u as Ce,C as Se,D as Ze,p as Le,I as Ue,H as Ie,h as Re,c as De}from"./Task-bswRZVCF.js";const Te=e=>0===e?"gold":1===e?"silver":2===e?"bronze":"bgPrimary";var Ae=r('<svg xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20.55 20.56"><g id=Слой_2 data-name="Слой 2"><g id=Слой_1-2 data-name="Слой 1"><path d=M5.31.22A13.68,13.68,0,0,0,0,11.92a8.89,8.89,0,0,0,2.66,6,10.16,10.16,0,0,0,5.73,2.56,10.82,10.82,0,0,0,11.09-5.64A10,10,0,0,0,17.28,3C13.55-.24,7.26-.72,3.53,2.76c-1.07,1,.53,2.57,1.59,1.59C7.67,2,12,2.17,14.8,3.92a7.69,7.69,0,0,1,3.12,8.93,8.41,8.41,0,0,1-8.15,5.47c-3.47,0-6.7-2-7.38-5.53A11.33,11.33,0,0,1,6.45,2.16C7.6,1.31,6.48-.65,5.31.22Z></path><path d=M6.14,7A21.23,21.23,0,0,0,7.6,8.83c.51.53,1.06,1,1.61,1.47s1.24,1,1.88,1.5l.87.65.47.34c.08.06.08.07,0,0l.2.2a1.14,1.14,0,0,0,1.6,0,1.16,1.16,0,0,0,0-1.59,13.24,13.24,0,0,0-1.73-1.33c-.32-.24-.42-.31-.73-.56l-.88-.72c-.53-.45-1.06-.9-1.55-1.39a10.21,10.21,0,0,1-.69-.77l-.33-.41c.07.1,0,0,0,0L8.08,5.9a1.16,1.16,0,0,0-1.54-.41A1.14,1.14,0,0,0,6.14,7Z></path><path d=M7.86,13.29c.44-.58.74-1,1.24-1.58s.94-1.08,1.44-1.58c1-1,2.12-2,3.19-3a1.12,1.12,0,0,0-1.59-1.59c-1.1,1-2.22,2-3.27,3.06a34.26,34.26,0,0,0-2.95,3.53,1.13,1.13,0,0,0,.4,1.54,1.17,1.17,0,0,0,1.54-.4Z>');const Be=(r={})=>{return t=Ae(),e(t,r,!0,!0),t;var t};var Fe=r('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100"><path fill=#dc3b0d d="m51 47.3 2.9 10.2 3.3 11.1c3.8 12.9 4.3 17.2 7 17.8.8.2 2.3-.4 5.3-1.5a7 7 0 0 0 4-2.8l.2-.4a5.9 5.9 0 0 0-.2-3.8l-6.8-15.3-8.8-18.8a4 4 0 0 0-4.1-.2 5.7 5.7 0 0 0-2.8 3.7Z"></path><path fill=#e84e12 d="M65.2 62.8a51.4 51.4 0 0 1-6.6-16.4 16.5 16.5 0 0 0-.2 2.7c-.1 6.9 3.5 10.3 6.6 17.3s3.4 14.3 4.5 14.2 1.2-2.8 1.1-5.1c-.1-5.6-3.2-9.4-5.4-12.7Z"></path><path fill=#c22e0a d="M73.7 81.7a6.4 6.4 0 0 0-.1-3.7c-.8 2.3-1.7 3.6-2.9 3.8-3.6.6-9.1-9.9-16.5-31.6a4.4 4.4 0 0 0 3.4.3 4.6 4.6 0 0 0 2.4-2.4l-2.1-4.3-6.9 3.5 2.9 10.2 3.3 11.1 4.3 15.2a4.6 4.6 0 0 0 2.7 2.6c.8.3 2.3-.3 5.3-1.5 0 0 3.5-1.2 4.2-3.2Z"></path><path fill=#b6231b d="M66.6 86c1.3-6.8.3-11.4-1-14.4s-3.7-6.6-5.5-11.4-1.1-5.4-2.9-9.4a28.7 28.7 0 0 0-4-6.4 24.6 24.6 0 0 1 4.4 6.1c1.9 3.7 1.5 4.9 3.5 9.8s3 5.6 4.2 8.2a20.5 20.5 0 0 1 1.1 2.8c1.6 4.5 3.5 11.4 4 13.2l-1.8.8Z"></path><path fill=#760e0b d="M65.2 83.5c2.2-2-1-8.4-5.6-19.6-1.7-4.2-4-10-6.6-17L51.2 48l2.7 9.5 3.3 11.1 4.3 15.2c1.2.3 2.8.6 3.7-.3Z"></path><path fill=#510000 d="m59.8 77.9.7 2.5a29 29 0 0 0 .5-5.8 25.5 25.5 0 0 0-2.4-11.2c-.8-1.8-1-1.5-3-4.9s-2.4-4.4-3.1-5.7v.3c.6 1.4 1.4 3.5 2.6 5.8s1.9 2.8 2.9 4.8a23.2 23.2 0 0 1 2 11.2 20 20 0 0 1-.2 3Z"></path><path fill=#760e0b d="M58 43.1h-.1a6.3 6.3 0 0 0-5.1-.5 6.7 6.7 0 0 0-3.7 3.4v.3l.1.4a7.6 7.6 0 0 1 4.9-3.8 7.7 7.7 0 0 1 3.9.2Z"opacity=.5></path><path fill=#cb2c27 d="M72 79.1c0-2.7-.5-5.5-5-14-2.9-5.5-3-5.1-4.5-8.2a61.8 61.8 0 0 1-3.9-11A47.8 47.8 0 0 0 62 57.1c4.1 9.6 7.9 11.8 9.1 19.1a29.8 29.8 0 0 1 0 8 18.1 18.1 0 0 0 .9-5.1Z"></path><path fill=#9d8995 d="M37 54.3a24.6 24.6 0 0 1-5.9-.2 20.9 20.9 0 0 1-3.4-.8c-2.7-1-3.4-3.9-5.6-10-3.4-9.4-5.5-13.5-3.6-15.4.2-.1.3-.3.5-.3l8 2.8 10 23.9Z"></path><path fill=#896871 d="M31.1 54.1a28 28 0 0 0 2.9.2 18.9 18.9 0 0 0 2.4 0 15.3 15.3 0 0 1-7.5-3.7c-2.4-2.3-3.2-4.8-4.2-7.7s-3.1-8.7-5.7-15.3a.7.7 0 0 0-.5.4c-2 2 .2 6 3.6 15.3 1.9 5.2 3.2 9.1 5.6 10a20.9 20.9 0 0 0 3.4.8Z"></path><path fill=#dcd2da d="M27 30.4c-4-.3-8.5-.8-8.6-2s2.2-1.7 6-3.1l15.2-5.7c1.7-.7 11.2-4.6 15.5-5.8l1.3-.4a26 26 0 0 1 5.7-.4c2.4.2 5.3.2 8.8.3Z"></path><rect width=49.5 height=26.6 x=28.8 y=20.5 fill=#ccc1c9 rx=2.7 transform="rotate(-21 53.5 33.7)"></rect><path fill=#e6dfe4 d="M62.1 13a26 26 0 0 0-5.7.4l-1.3.4a56.2 56.2 0 0 0-6.1 2.1 11.9 11.9 0 0 1 8.7.7l1.4.8 11.8-4.1c-3.5-.1-6.4-.1-8.8-.3Z"></path><path fill=#dcd2da d="M72.8 14.8a2.4 2.4 0 0 0-3.1-1.4l-10.6 4A27.2 27.2 0 0 1 69 42.1l10.1-3.9a2.3 2.3 0 0 0 1.4-3.1Z"></path><path fill=#e4dee2 d="m44.6 22.9-7.2 31.3 3.1-1.2 7.4-31.3-3.3 1.2zM51.2 20.4l-6.6 31 8.9-3.4 5.6-30.6-7.9 3zM61.1 16.7 56 47.1l3.9-1.4 4.4-30.1-3.2 1.1z"opacity=.8></path><path fill=#fff d="M67.2 21.9c-2.8-1-5 .6-5.4 0s3.9-7.2 7.2-6 3.2 8.3 2 8.7-1.3-1.8-3.8-2.7ZM71.9 29.8c.6.2 1.8-.7 2-1.7s-1.3-2.8-2-2.6-1 4 0 4.3Z"></path><path fill=#b4a2ae stroke=#9e8b95 stroke-miterlimit=10 stroke-width=.3 d="m38.2 53.8.3-2.7 1.4.5-.8-6.8 3.5 5.1.4-2.7 1.9 2.7.7-1.1 1.6 1.6">');const Pe=(r={})=>{return t=Fe(),e(t,r,!0,!0),t;var t};var He=r('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100"><path fill=#d86433 d="M37.5 13.5 8.6 83a.7.7 0 0 0 .4 1l5 1.9a.7.7 0 0 0 1-.4l28.4-70.4a.9.9 0 0 0-.6-1.1l-4.4-1a.7.7 0 0 0-.9.5Z"></path><path fill=#9d3420 d="m40.2 13.4-1.8-.4a.7.7 0 0 0-.9.5L8.6 83a.7.7 0 0 0 .4 1l2.6 1c1.6-6 3.4-12.1 5.5-18.5a322.7 322.7 0 0 1 23.1-53.1Z"opacity=.6></path><path fill=#9d3420 d="M17.3 62a18.4 18.4 0 0 0 3.4 1.4l3 .6.5-1.2a6.5 6.5 0 0 0-3-2 5.9 5.9 0 0 0-3.4.1Z"opacity=.6></path><path fill=#5d73e1 d="M50.1 60.2a1.9 1.9 0 0 1 1.4.9c.5 1.1-1.4 2.6-3.9 5.7s-3.7 4.6-3.3 5.9 3.9 1.5 6.2 1.4a97.6 97.6 0 0 0 19.7-2.3s12.2-24.9 24.2-28.6c0 0-16.3-5-25.4-5.4Z"></path><path fill=#6092ff d="M67.1 71.8h3.1s12.2-24.9 24.2-28.6c0 0-7.5-2.3-15.2-3.9 4.7 1.7 5.6 3.4 5.8 4.6.4 3.6-6.6 4.4-10.3 11.9-1.8 3.7-1.3 5.9-4.3 11.1a37 37 0 0 1-3.3 4.9Z"></path><path fill=#525dd3 d="M65.4 36.9C59.5 54.7 54 62.6 49.8 66.4c-.9.9-4.7 4.2-3.9 6s3 1.2 4.6 1.1a146.4 146.4 0 0 0 19.7-1.7c-16 0-19.2-1-19.3-1.8s8.3-1.2 12.4-7.2.4-10.5 4.3-16.9a18.2 18.2 0 0 1 8.8-7.2Z"></path><path fill=#5881f3 d="M25.4 63c17.5-3.3 26.2-2.8 30.8-1.5a5.9 5.9 0 0 0 4.4 0c3.7-1.6 3.2-7 5.5-15.3 3.1-11.9 8.3-16.3 5.8-20-1.1-1.6-3-2.1-5.7-2.6a103 103 0 0 0-24.4-1.8Z"></path><path fill=#4b5dd3 d="M56.5 22.2a112.6 112.6 0 0 0-14.7-.4L25.4 63c5.2-1 9.6-1.6 13.3-2a14.1 14.1 0 0 1-4.2-8.8c-.2-3.9 2-5.2 5.2-12.2 3.8-8.6 2.7-11.3 6-14.4s5.4-3.4 10.8-3.4Z"></path><path fill=#5582ff d="M35.3 17.2c-4.8 1.2-4.3 8.6-9.2 20.9s-11.4 20.8-9.3 22.6 2.5-.5 5.2.6 2.4 2.3 3.4 2.4c2.9.2 4.7-10.9 9.4-22.7s9.7-17.8 7.1-21.6a6.5 6.5 0 0 0-6.6-2.2Z"></path><path fill=#729cff d="M35.3 17.2c-4.8 1.2-4.3 8.6-9.2 20.9s-11.4 20.8-9.3 22.6 2.2-.3 4.4.3a9.2 9.2 0 0 1-1.6-3c-1.6-5.9 4.7-9.2 8.5-18.5s1.2-14.9 6.8-19.8a13.4 13.4 0 0 1 3.8-2.4 5.5 5.5 0 0 0-3.4-.1Z"></path><path fill=#6092ff d="m66.2 23.6-5.4-.9-4.3-.5c6.6 1.7 8.7 4.1 9.3 6.1 1.5 4.3-3.7 6.6-5.4 15.8-1.1 6.2.4 9.3-2.3 12.7a11.5 11.5 0 0 1-6.6 3.9c2.8 1.5 6.6 3 9.5 1.4s2.4-6.6 5.1-15.9c3.1-11 7.8-16.9 5.8-20-1.1-1.6-3-2.1-5.7-2.6Z"></path><path fill=#422394 d="m58.6 61-7.3-.2.2.3c0 .1-1.4 2.6-3.9 5.7l-1.4 1.7Z"></path><path fill=#563eae d="M62.5 60.5c-.5-2.7-14.5-2.4-14.6-2.4h-.5a62.8 62.8 0 0 0-19.9 4.5 86.6 86.6 0 0 1 18.7-2.1c6.5.1 9.3.9 9.4 1.7s-7.2 2-10.6 7.7c-.9 1.5-.9 2.3-.7 2.8s4.3 1.6 8.2 1.4c9-.5 17.7-2 17.7-2.3s-2.5.3-10.3.8c-11 .6-13.1.1-13.4-.8s.3-1.2.9-2c2.5-3 5.6-3 9.9-5.2 2.2-1.1 5.4-2.8 5.2-4.1ZM96.7 44.5l-2.3-1.3a18.2 18.2 0 0 0-3.5 1.2 20.8 20.8 0 0 0-9.6 9.7 22.3 22.3 0 0 1 7.7-6.9 22.9 22.9 0 0 1 7.7-2.7Z"></path><path fill=#fff d="M69.8 31.6c-.9.5-2.3-.1-3.6-.8s-5.3-3-4.9-4.6 5.7-2.8 8-.3 1.7 4.8.5 5.7ZM65.4 35.5c-.1-.1-.6-1.4 0-2s2.5-.3 2.9.8-.6 2.7-1.5 2.6-1.4-1.2-1.4-1.4Z"></path><path fill=#9d3420 d="M15.5 84.3c-1.7.5-6.9-1.1-7-1.1a.8.8 0 0 0 .5.8l5 1.9a.7.7 0 0 0 1-.4l.5-1.2Z"></path><path fill=#4b5dd3 d="M40.9 18.4a8.1 8.1 0 0 1 1.1 3.7c0 3.8-2.9 6.3-4.7 8.3-6.8 7.7-2.3 14.8-10.2 28.4-1.1 2-2.2 3.4-2.7 4.2a1.8 1.8 0 0 0 1 .7c2.7.2 4.2-9.5 9.4-21.9s10.1-18.4 7.1-22.5Z"opacity=.4>');const qe=(r={})=>{return t=He(),e(t,r,!0,!0),t;var t},$e={FixedLayout:"Jr",FixedLayout__children:"iB QM zq DV",FixedLayout__safe:"Av","FixedLauout__background--secondary":"Ic",FixedLauout__hidden:"pq",FixedLauout__visible:"GP"};var Ee=r("<div><div></div><div>");const Ne=r=>{const g=t({background:"secondary",isHidden:!0},r),[o,u]=n(g,["class","children","background","isHidden"]);let h;const[p,m]=a(0);return i((()=>{m(h?.offsetHeight??0)})),(()=>{var r=Ee(),n=r.firstChild,a=n.nextSibling;e(r,t({get class(){return $e.FixedLayout},get classList(){return{[$e.FixedLauout__hidden]:o.isHidden,[$e.FixedLauout__visible]:!o.isHidden,[$e[`FixedLauout__background--${o.background}`]]:!!o.background,[`${o.class}`]:!!o.class}}},u),!1,!0);return"function"==typeof h?s(h,n):h=n,l(n,(()=>o.children)),d((e=>{var r=$e.FixedLayout__children,t=$e.FixedLayout__safe,i=p()+"px";return r!==e.e&&c(n,e.e=r),t!==e.t&&c(a,e.t=t),i!==e.a&&(null!=(e.a=i)?a.style.setProperty("height",i):a.style.removeProperty("height")),e}),{e:void 0,t:void 0,a:void 0}),r})()},je=(e,r,t)=>((e,r,t)=>g("/main/user.upLevel",e,r,t))(e,(e=>{r&&r(e),u({})}),(e=>{o(e),t&&t(e)})),Ve=(e,r,t)=>((e,r,t)=>g("/main/user.upLevelExecute",e,r,t))(e,(e=>{r&&r(e),u({})}),(e=>{o(e),t&&t(e)})),Ge=(e,r,t)=>{const n=h(p);if(!(new Date(n?.tribute_time||"").getTime()>Date.now()))return((e,r,t)=>g("/main/slave.tribute",e,r,t))(e,(e=>{e.result&&(u({}),r&&r(e))}),(e=>{o(e),t&&t(e)}))},Oe=()=>{const[e]=m(p),[r]=b(),n=()=>v({pageId:w,params:{clan:e()?.clan?.id}});i((()=>{(e()?.update_at||new Date(0)).getTime()<Date.now()&&u({})}));const[l,d]=a(!1);i((()=>{d(!e()?.up_level_time||new Date(e()?.up_level_time||"").getTime()<Date.now())}));const c=()=>je({}),s=()=>Ve({});return f(ce,{background:"none",get children(){return[f(Q,{get children(){return f(Y,{get before(){return f(W,{get src(){return e()?.avatar??""},size:"extraLarge"})},get description(){return[f(X,{weight:"light",color:"primary",size:"medium",get children(){return[y((()=>e()?.first_name))," ",y((()=>e()?.last_name))]}}),f(Q,{mode:"mediumTop",get children(){return f(Q,{mode:"mediumVertical",get children(){return f(X,t(te,{size:"auto",weight:"black",get children(){return f(ee,{max:20,get before(){return f(re,{height:24})},get value(){return e()?.coin??0}})}}))}})}})]},get children(){return f(X,{weight:"black",color:"primary",size:"bigName",get children(){return e()?.short_name}})}})}}),f(Q,{mode:"infoCell",get children(){return f(Y,{get after(){return f(ne,{get children(){return[f(_,{get when(){return(e()?.price.upgrade||0)>0},get children(){return[f(_,{get when(){return!!e()?.up_level_time},get children(){return f(ae,{onClick:s,size:"extraSmall",get type(){return l()?"accent":"secondary"},streched:!0,get children(){return[f(_,{get when(){return!l()},get children(){return f(X,t(le,{size:"small",get children(){return f(ie,{onEnd:()=>{d(!0)},get time(){return e()?.up_level_time||""}})}}))}}),f(_,{get when(){return l()},get children(){return f(X,t(le,{size:"small",get children(){return r("complete")}}))}})]}})}}),f(_,{get when(){return y((()=>!!l()))()&&!e()?.up_level_time},get children(){return f(ae,{onClick:c,size:"extraSmall",type:"accent",streched:!0,get children(){return f(X,t(le,{size:"small",get children(){return r("promote")}}))}})}}),f(Q,{mode:"small"})]}}),f(de,{get level(){return e()?.level??1}})]}})},get children(){return f(X,{size:"small",color:"primary",weight:"black",get children(){return[y((()=>r("level")))," :"]}})}})}}),f(_,{get when(){return e()?.clan?.id},get children(){return f(Q,{mode:"infoCell",get children(){return f(Y,{get after(){return f(ne,{onClick:n,get children(){return[f(X,{whiteSpace:"nowrap",color:"accent",weight:"black",size:"small",get children(){return e()?.clan?.name}}),f(Q,{mode:"icon"}),f(W,{mode:"app",size:"badgeClan",get src(){return e()?.clan?.image??""}})]}})},get children(){return f(X,{whiteSpace:"nowrap",size:"small",color:"primary",weight:"black",get children(){return[y((()=>r("clan.clan")))," :"]}})}})}})}})]}})},Je=()=>{const[e]=m(p),[r]=b(),n=()=>v({pageId:x}),a=()=>v({pageId:e()?.clan?.id?w:k,params:{clan:e()?.clan?.id}}),i=()=>v({pageId:z}),l=()=>v({modalId:M}),d=()=>v({modalId:C,params:{user:e()?.id}});return f(ce,{get children(){return[f(se,{get children(){return f(X,t(ge,{get children(){return r("menu")}}))}}),f(oe,{get children(){return[f(ue,{get icon(){return f(he,{height:56})},onClick:n,get children(){return r("rating.rating")}}),f(ue,{get icon(){return f(pe,{height:56})},onClick:a,get children(){return r("clan.clan")}}),f(ue,{onClick:d,get icon(){return f(Pe,{height:56})},get children(){return r("slaves.button")}}),f(ue,{onClick:l,get icon(){return f(qe,{height:56})},get children(){return r("referrals.button")}}),f(ue,{get icon(){return f(me,{height:56})},onClick:i,get children(){return r("settings.settings")}})]}})]}})},Ke=()=>{const[e]=b(),[r,n]=m(S),[i,l]=a(!1),d=()=>v({modalId:M}),c=()=>{L({key:"referrer",value:"true"},(()=>{n((e=>({...e,referrer:!0})))}))};return Z((()=>{!0===r().referrer&&l(!0)})),f(_,{get when(){return!i()},get children(){return f(ce,{onClose:()=>{l(!0)},get isHidden(){return r().referrer},mode:"card",get children(){return[f(se,{get after(){return f(ae,{onClick:c,mode:"merges",size:"none",get children(){return f(Be,{color:"var(--text_primary)",width:18,height:18})}})},get children(){return f(X,t(ge,{get children(){return e("referal.system.title")}}))}}),f(Q,{get children(){return f(X,{weight:"regular",color:"secondary",size:"small",get children(){return e("referal.system.description")}})}}),f(se,{type:"footer",separator:!1,get after(){return f(ae,{onClick:d,type:"accent",size:"small",get children(){return f(X,t(le,{size:"small",weight:"black",get children(){return e("system.more")}}))}})},get children(){return f(X,{color:"accent",size:"extraSmall",weight:"black",get children(){return e("referal.how_it_works")}})}})]}})}})},Qe=()=>y((()=>f(U,{get each(){return[...Array(6).keys()]},children:(e,r)=>f(be,{get"data-index"(){return r()},mode:"UserCell",background:"primary",borderRadius:"default",height:"56px",width:"auto",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})})))(),Ye={BestUserRating:"vc","BestUserRating__type--gold":"AS","BestUserRating__type--silver":"nn","BestUserRating__type--bronze":"UR",BestUserRating__top:"nO",BestUserRating__title:"AU",BestUserRating__bottom:"fn",BestUserRating__description:"mr"};var We=r("<div>");const Xe=e=>{const r=t({},e),[a,i]=n(r,["type","top","title","description","bottom","class","classList","children"]);return f(fe,t({get class(){return Ye.BestUserRating},get classList(){return{[Ye[`BestUserRating__type--${a.type}`]]:!!a.type,[`${a.class}`]:!!a.class,...a.classList}}},i,{get children(){return[f(_,{get when(){return a.top},get children(){var e=We();return l(e,(()=>a.top)),d((()=>c(e,Ye.BestUserRating__top))),e}}),f(_,{get when(){return a.title},get children(){var e=We();return l(e,(()=>a.title)),d((()=>c(e,Ye.BestUserRating__title))),e}}),f(_,{get when(){return a.description},get children(){var e=We();return l(e,(()=>a.description)),d((()=>c(e,Ye.BestUserRating__description))),e}}),f(_,{get when(){return a.bottom},get children(){var e=We();return l(e,(()=>a.bottom)),d((()=>c(e,Ye.BestUserRating__bottom))),e}})]}}))},er="TS ns YB",rr="Oz";var tr=r("<div>");const nr=e=>{const r=t({},e),[a,i]=n(r,["before","after","description","class","classList","children"]);return s=tr(),l(s,f(Y,t(i,{get classList(){return{[rr]:!0}},get after(){return a.after},get before(){return a.before},get description(){return a.description},get children(){return a.children}}))),d((e=>{var r=er,t={[`${a.class}`]:!!a.class,...a.classList};return r!==e.e&&c(s,e.e=r),e.t=I(s,t,e.t),e}),{e:void 0,t:void 0}),s;var s};function ar(e){const[r]=m(p),[t,l]=m(R),[d,c]=a([]),[s,o]=n(e,["page","children","loadingMessage","endMessage"]),u=e=>{l((t=>{if(e.length>0){if((t={...t,[s.page]:{...t[s.page],update_at:new Date(Date.now()+6e4),error_load:!1}})[s.page].pages[t[s.page].pages.length]=e,"users"===s.page){const n=r()?.id;if(n){e.find((e=>e.id===n))&&(t[s.page].position={count:0,...t.users.position,exactly:!0})}}else if("clan"===s.page){const n=r()?.clan?.id;if(n){e.find((e=>e.id===n))&&(t[s.page].position={count:0,...t.clan.position,exactly:!0})}}}else t[s.page].full_load=!0;return c([...t[s.page].pages]),{...t}}))},h=async()=>{const e=(d().length+1||1)-1,n=t()[s.page].pages[e];if(n)return void c((r=>(r[e]=n,Array.from(r))));const a=t()[s.page].pages.length+1||1;return await new Promise((e=>{if("clan"===s.page)g("/main/clan.rating",{page:a},(r=>{u(r),e(!0)}),(r=>{l((e=>(e[s.page].error_load=!0,{...e}))),e(!0)}));else if("users"===s.page)((e,r,t)=>{g("/main/user.rating",e,r,t)})({page:a},(r=>{u(r),e(!0)}),(r=>{l((e=>(e[s.page].error_load=!0,{...e}))),e(!0)}));else if("my_clan"===s.page){const t=r()?.clan?.id;if(!t)return;_e({clan:t,page:a},(r=>{u(r),e(!0)}),(r=>{l((e=>(e[s.page].error_load=!0,{...e}))),e(!0)}))}}))};return i((()=>{let e=t()[s.page];e.pages.length>0&&e.update_at.getTime()<Date.now()&&(e.pages=[],l((e=>(e[s.page]={...e[s.page],pages:[],full_load:!1},"users"===s.page&&(e[s.page].position=void 0),"clan"===s.page&&(e[s.page].position=void 0),{...e})))),0===d().length&&e.pages.length>=1&&c([...e.pages.slice(0,2)])})),f(ye,{get scrollTreshold(){return window.innerHeight/2},get each(){return d()},get loadingMessage(){return s.loadingMessage},get endMessage(){return f(_,{get when(){return t()[s.page].error_load},get children(){return s.endMessage({handleRating:h})}})},get hasMore(){return!!y((()=>!t()[s.page]?.error_load))()&&!t()[s.page]?.full_load},next:h,get children(){return s.children}})}const ir="dA";var lr=r("<div>");const dr=r=>{const a=t({},r),[i,d]=n(a,["class","classList","children"]);return c=lr(),e(c,t({get class(){return ir},get classList(){return{[`${i.class}`]:!!i.class,...i.classList}}},d),!1,!0),l(c,(()=>i.children)),c;var c},cr=e=>{const[r,a]=n(e,["item"]);return f(nr,t(a,{onClick:()=>ve(r.item.id),get after(){return f(de,{get level(){return r.item.level}})},get before(){return f(W,{size:"default",get src(){return r.item.avatar??""}})},get description(){return f(X,{size:"small",weight:"regular",color:"primary",get children(){return[y((()=>r.item.first_name))," ",y((()=>r.item.last_name))]}})},get children(){return f(X,t(te,{get children(){return r.item.short_name}}))}}))},sr=()=>{const[e]=m(p),[r]=D(e()?.id),[n]=b(),[l,d]=a([]),c=async()=>{const t=(l().length+1||1)-1,n=r()?.pages[t],a=e()?.id;if(a){if(!n)return await new Promise((e=>{we({user:a,page:(r()?.pages||[]).length+1||1},(r=>{const t=B(a);if(t){const e=Array.from(t.pages);d([e[0].slice(0,5)])}e(!0)}),(r=>{e(!0)}))}));d((e=>(e[t]=Array.from(n).slice(0,5),Array.from(e))))}};return i((()=>{const t=e()?.id,n=r();if(t&&n&&(n?.pages.length>0&&n?.update_at.getTime()<Date.now()&&T(t,(e=>({...e,pages:[],update_at:new Date(0)}))),n?.pages.length>=1)){const e=Array.from(n.pages.slice(0,2));e&&d([e[0].slice(0,5)])}})),f(ye,{get scrollTreshold(){return window.innerHeight/2},get each(){return l()},get loadingMessage(){return f(Qe,{})},get endMessage(){return[f(_,{get when(){return y((()=>!(r()?.error_load||!r()?.full_load)))()&&0==r()?.pages.length},get children(){return f(A,{get header(){return f(X,t(te,{get children(){return n("clan.users.empty")}}))}})}}),f(_,{get when(){return r()?.error_load},get children(){return f(A,{get header(){return f(X,t(te,{get children(){return n("system.error.error")}}))},get children(){return f(ae,{onClick:c,mode:"outline",get children(){return f(X,t(le,{get children(){return n("system.error.button")}}))}})}})}})]},get hasMore(){return!!y((()=>!(!((r()?.pages??[]).length<=0)||r()?.error_load)))()&&!r()?.full_load},next:c,children:(e,r)=>f(cr,{item:e,get"data-index"(){return r()}})})},gr=()=>{const[e]=b(),[r]=m(p),[n]=D(r()?.id),a=()=>v({modalId:C,params:{user:r()?.id}});return f(ce,{get children(){return[f(se,{type:"header",get after(){return f(xe,{align:"end",background:"none",get description(){return f(X,{color:"secondary",size:"superSmall",align:"center",weight:"black",get children(){return e("slavesy.in_slavery")}})},get children(){return[f(X,{color:"accent",size:"medium",weight:"black",get children(){return r()?.slaves.count}}),f(X,{color:"secondary",size:"small",weight:"black",get children(){return["/",y((()=>r()?.slaves.max_count))]}})]}})},get children(){return f(X,t(ge,{get children(){return e("slavesy.slaves")}}))}}),f(sr,{}),f(_,{get when(){return(n()?.pages[0]||[]).length>5},get children(){return f(se,{type:"footer",align:"center",get children(){return f(ae,{onClick:a,type:"accent",size:"small",get children(){return e("system.see_all")}})}})}})]}})},or=()=>{const[e]=m(p),[r]=b(),n=()=>ve(e()?.master?.id),a=()=>{const r=e()?.id;r&&Me({user:r})};return f(_,{get when(){return e()?.master?.id},get children(){return f(ce,{mode:"card",background:"accent",borderRadius:"SimpleCell",backgroundMode:"radial",get children(){return[f(Q,{mode:"small",get children(){return f(Y,{background:"bgPrimary",padding:"medium",get before(){return f(xe,{padding:"medium",height:"full",background:"secondary",get children(){return f(X,{whiteSpace:"nowrap",size:"small",weight:"black",color:"primary",get children(){return r("slavesy.you.title")}})}})},get children(){return f(X,{size:"extraSmall",weight:"bold",color:"secondary",get children(){return r("slavesy.you.description")}})}})}}),f(Q,{mode:"block",get children(){return f(Y,{backgroundEvent:"none",background:"none",onClick:n,get after(){return f(ae,{overflow:"visible",get description(){return f(X,t(ke,{get children(){return f(ee,{color:"inherit",max:12,padding:"extraSmall",get value(){return e()?.price.redeem||0},get before(){return f(re,{height:10})}})}}))},onClick:a,type:"black",size:"small",get children(){return f(X,{size:"medium",weight:"black",color:"white",get children(){return r("slavesy.you.button.text")}})}})},get before(){return f(W,{size:"default",get src(){return e()?.master?.avatar??""}})},get description(){return f(X,t(ze,{color:"black",get children(){return[y((()=>e()?.master?.first_name))," ",y((()=>e()?.master?.last_name))]}}))},get children(){return f(X,{size:"medium",weight:"black",color:"black",get children(){return e()?.master?.short_name}})}})}})]}})}})},ur=()=>{const[e]=b(),[r]=m(p),[n,l]=a(1),[d,c]=a(!1);i((()=>{c(!r()?.tribute_time||new Date(r()?.tribute_time||"").getTime()<Date.now())})),i((()=>{const e=()=>{const e=1+((e,r,t)=>e>r?e<t?e:t:r)(Number(((Date.now()-new Date(r()?.tribute_time||Date.now()).getTime())/36e5).toFixed(5)),0,8);l(e),e>=8&&clearInterval(t)},t=setInterval(e,1e3);return e(),F((()=>{clearInterval(t)})),()=>{clearInterval(t)}}));const s=()=>Ge({});return f(ce,{mode:"card",background:"primary",borderRadius:"SimpleCell",backgroundMode:"radial",get border(){return d()?"accent":"secondary"},get children(){return f(Q,{mode:"default",get children(){return f(Y,{background:"none",padding:"none",get after(){return f(ae,{get style(){return{"min-width":d()?"125px":"auto","min-height":"44px"}},get description(){return f(_,{get when(){return d()},get children(){return[f(_,{get when(){return n()>1},get children(){return f(X,t(te,{color:"black",size:"extraSmall",children:"≈"}))}}),f(X,t(te,{color:"black",size:"extraSmall",get children(){return f(ee,{padding:"extraSmall",color:"inherit",align:"left",max:10,get value(){return Number(((r()?.tribute||0)*n()).toFixed(0))},get after(){return f(re,{height:10})}})}}))]}})},onClick:s,get type(){return d()?"accent":"secondary"},get size(){return d()?"small":"large"},get children(){return[f(_,{get when(){return d()},get children(){return f(X,t(le,{get children(){return e("slavesy.profit.collect")}}))}}),f(_,{get when(){return!d()},get children(){return f(X,t(le,{get children(){return f(ie,{onEnd:()=>{c(!0)},get time(){return r()?.tribute_time||""}})}}))}})]}})},get description(){return f(ne,{get children(){return[f(X,t(te,{get color(){return d()?"accent":"primary"},size:"small",get children(){return f(ee,{padding:"extraSmall",color:"inherit",align:"left",max:12,get value(){return r()?.tribute||0}})}})),f(Q,{mode:"px",get children(){return f(re,{height:14})}}),f(X,t(te,{get color(){return d()?"accent":"primary"},size:"small",get children(){return[" ","/"," ",y((()=>e("at_one_o_clock")))]}}))]}})},get children(){return f(X,t(te,{get color(){return d()?"accent":"primary"},get children(){return e("income")}}))}})}})}})},hr={UpgradeItem:"fS aq eg",UpgradeItem__empty:"ki MN",_active:"_active","UpgradeItem__mode--primary":"KA ro",UpgradeItem__children:"aU lL LV ba","UpgradeItem__mode--secondary":"LA tb","UpgradeItem__mode--accent":"yk Ie",UpgradeItem__top:"OZ"};var pr=r("<div>");const mr=e=>{const r=t({mode:"primary",empty:!1},e),[a,i]=n(r,["class","classList","children","top","level","mode","empty"]);return f(fe,t({get class(){return hr.UpgradeItem},get classList(){return{[hr[`UpgradeItem__mode--${a.mode}`]]:!!a.mode,[`${a.class}`]:!!a.class,...a.classList}}},i,{get children(){return[f(_,{get when(){return a.top},get children(){var e=pr();return l(e,(()=>a.top)),d((()=>c(e,hr.UpgradeItem__top))),e}}),f(_,{get when(){return a.level},get children(){var e=pr();return l(e,(()=>a.level)),d((()=>c(e,hr.UpgradeItem__level))),e}}),f(_,{get when(){return a.empty},get children(){var e=pr();return l(e,f(Ce,{height:32})),d((()=>c(e,hr.UpgradeItem__empty))),e}}),f(_,{get when(){return a.children},get children(){var e=pr();return l(e,(()=>a.children)),d((()=>c(e,hr.UpgradeItem__children))),e}})]}}))},br=e=>{const[r]=m(p),[n,a]=m(P),[i]=b(),l=()=>{v({modalId:C,params:{user:r()?.id}})};return H((()=>Se({})),(n()?.update_at?.getTime()??0)<Date.now()),f(dr,{get children(){return f(U,{get each(){return(e=>{const r=e.sort(((e,r)=>new Date(e.up_level_time).getTime()-new Date(r.up_level_time).getTime())).slice(0,4).map((e=>({...e,empty:!1})));for(;r.length<4;)r.push({empty:!0,level:0,id:0,up_level_time:"0"});return r})(n()?.list)},children:(e,r)=>[f(_,{get when(){return e?.empty},get children(){return f(mr,{onClick:l,empty:!0,get"data-index"(){return r()},mode:"secondary"})}}),f(_,{get when(){return!e?.empty},get children(){return f(mr,{get"data-index"(){return r()},onClick:()=>{(e=>{const r=n().list.find((r=>r.id===e));r&&(new Date(r.up_level_time).getTime()>Date.now()?ve(e):Ze({user:e}))})(e.id)},get mode(){return e?.endTime?"accent":"primary"},get top(){return f(W,{size:"default",get src(){return e.avatar??""}})},get level(){return f(de,{get background(){return e?.endTime?"secondary":"accent"},get level(){return e.level}})},get children(){return[f(_,{get when(){return!e?.endTime},get children(){return[f(X,{weight:"bold",size:"extraSmall",color:"inherit",get children(){return i("time_left")}}),f(X,{weight:"bold",size:"small",color:"inherit",get children(){return f(ie,{onEnd:()=>{var r;r=e.id,a((e=>{if(e.list){let t=e.list.find((e=>e.id===r));t&&(t.endTime=!0)}return{...e}}))},get time(){return e.up_level_time}})}})]}}),f(_,{get when(){return e?.endTime},get children(){return f(ae,{type:"primary",size:"extraSmall",get children(){return f(X,t(le,{color:"accent",size:"extraSmall",get children(){return i("promote")}}))}})}})]}})}})]})}})},fr=()=>{const[e]=m(P),[r]=b();return f(ce,{get children(){return[f(se,{type:"header",get after(){return f(xe,{align:"end",background:"none",get children(){return[f(X,{color:"accent",size:"medium",weight:"black",get children(){return e()?.list.length}}),f(X,{color:"secondary",size:"small",weight:"black",children:"/4"})]}})},get children(){return f(X,t(ge,{get children(){return r("level_up")}}))}}),f(br,{})]}})},yr=e=>f(q,{get nav(){return e.nav},get children(){return[f(Oe,{}),f(or,{}),f(ur,{}),f(Je,{}),f(Ke,{}),f(fr,{}),f(gr,{})]}}),_r=()=>{const[e]=b(),[r,t]=m(R),n=[{type:$.Users,text:e("rating.players")},{type:$.Clans,text:e("rating.clans")},{type:$.MyClan,text:e("rating.my_clan")}];return f(ce,{fixed:!0,background:"none",get children(){return f(Le,{scroll:!0,streched:!0,get children(){return f(U,{each:n,children:(e,n)=>f(ae,{get"data-index"(){return n()},onClick:()=>{var r;r=e.type,t((e=>(e.tab=r,{...e})))},get type(){return r().tab===e.type?"accent":"secondary"},streched:!0,size:"middle",get children(){return f(X,{align:"center",weight:"bold",get color(){return r().tab===e.type?"black":"secondary"},size:"medium",get children(){return e.text}})}})})}})}})},vr=()=>{const[e]=m(R);return f(Le,{streched:!0,get children(){return f(U,{get each(){return e().users.pages[0]?.slice(0,3)},get fallback(){return f(U,{get each(){return[...Array(3).keys()]},children:(e,r)=>f(be,{mode:"BestUserRating",borderRadius:"default",height:"166px",width:"100%",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})})},children:(e,r)=>{const t=Te(r());return f(Xe,{onClick:()=>{var r;r=e.id,ve(r)},get"data-index"(){return r()},type:t,get top(){return f(W,{size:"bestUser",get src(){return e.avatar}})},get title(){return f(X,{weight:"black",color:"primary",size:"medium",get children(){return e.short_name}})},get description(){return f(X,{whiteSpace:"nowrap",weight:"light",color:"primary",size:"small",get children(){return[y((()=>e.first_name))," ",y((()=>e.last_name))]}})},get bottom(){return f(Le,{padding:!1,get children(){return[f(de,{get level(){return e.level}}),f(xe,{background:t,padding:"square",align:"center",get children(){return f(X,{color:"black",weight:"black",size:"medium",get children(){return r()+1}})}})]}})}})}})}})},wr=()=>y((()=>f(U,{get each(){return[...Array(10).keys()]},children:(e,r)=>f(Q,{mode:"block",get"data-index"(){return r()},get children(){return f(be,{mode:"SimpleCell",borderRadius:"default",height:"79px",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})}})})))(),xr=e=>{const[r]=b();return f(A,{get header(){return f(X,t(te,{get children(){return r("system.error.error")}}))},get children(){return f(ae,{get onClick(){return e.handleRating},mode:"outline",get children(){return f(X,t(le,{get children(){return r("system.error.button")}}))}})}})},kr=e=>{const[r,a]=n(e,["item","position"]),i=()=>ve(r.item.id);return f(Q,t(a,{mode:"block",get children(){return f(Y,{onClick:i,padding:"default",background:"secondary",get after(){return f(xe,{padding:"smooth",background:"lightSecondary",get children(){return f(Le,{padding:!1,get children(){return[f(de,{get level(){return r.item.level}}),f(xe,{background:"bgPrimary",padding:"square",align:"center",get children(){return f(X,t(te,{get children(){return r.position+1}}))}})]}})}})},get before(){return f(W,{size:"default",get src(){return r.item.avatar}})},get description(){return[f(X,{size:"small",weight:"regular",color:"primary",get children(){return[y((()=>r.item.first_name))," ",y((()=>r.item.last_name))]}}),f(Q,{mode:"mediumTop",get children(){return f(X,t(te,{size:"extraSmall",get children(){return f(ee,{padding:"extraSmall",align:"left",max:10,get value(){return r.item.coin||0},get before(){return f(re,{height:12})}})}}))}})]},get children(){return f(X,t(te,{get children(){return r.item.short_name}}))}})}}))},zr=()=>f(ce,{background:"none",get children(){return f(ar,{page:"users",get loadingMessage(){return f(wr,{})},endMessage:e=>f(xr,e),children:(e,r)=>r()<=2?[]:f(kr,{item:e,get position(){return r()},get"data-index"(){return r()}})})}}),Mr=()=>{const[e]=b(),[r,n]=m(R),[l]=m(p),[d,c]=a(!1),s=()=>{return e={user:l()?.id??0},g("/main/user.position",e,(e=>{n((r=>(r.users.position={...r.users.position,count:e.position},{...r}))),c(!1)}),(e=>{}));var e};return i((()=>{void 0===r().users?.position&&!d()&&l()?.id&&(c(!0),s())})),f(Ne,{get isHidden(){return y((()=>!(r().users.position&&l()?.id)))()&&0==(r().users.position?.count||0)},get children(){return f(Q,{mode:"block",get children(){return f(Y,{padding:"default",background:"secondary",get before(){return f(W,{size:"default",get src(){return l()?.avatar??""}})},get after(){return f(xe,{padding:"smooth",background:"lightSecondary",get children(){return f(Le,{padding:!1,get children(){return f(xe,{background:"bgPrimary",padding:"square",align:"center",get children(){return f(X,t(te,{get children(){return[y((()=>r().users.position?.exactly?"":"≈")),y((()=>r().users.position?.count))]}}))}})}})}})},get children(){return f(X,t(te,{get children(){return e("you.title")}}))}})}})}})},Cr=()=>{const[e]=m(R);return f(_,{get when(){return e().tab===$.Users},get children(){return[f(vr,{}),f(zr,{}),f(Mr,{})]}})},Sr=()=>y((()=>f(U,{get each(){return[...Array(10).keys()]},children:(e,r)=>f(Q,{mode:"block",get"data-index"(){return r()},get children(){return f(be,{mode:"SimpleCell",borderRadius:"default",height:"94px",before:{width:"70px",height:"70px","border-radius":"8px"},after:{width:"22px",height:"22px","border-radius":"30px"},children:{width:"100%",height:"24px","border-radius":"8px"}})}})})))(),Zr=e=>{const[r]=b();return f(A,{get header(){return f(X,t(te,{get children(){return r("system.error.error")}}))},get children(){return f(ae,{get onClick(){return e.handleRating},mode:"outline",get children(){return f(X,t(le,{get children(){return r("system.error.button")}}))}})}})},Lr=e=>{const[r]=b(),[a,i]=n(e,["item","position"]),l=Te(a.position-1),d=()=>v({pageId:w,params:{clan:a.item.id}});return f(Q,t(i,{mode:"block",get children(){return f(Y,{onClick:d,padding:"large",background:"secondary",get after(){return f(xe,{background:l,padding:"square",align:"center",get children(){return f(X,{color:"bgPrimary"===l?"primary":"black",weight:"black",size:"medium",get children(){return a.position}})}})},get before(){return f(W,{get srcHide(){return f(Ue,{})},mode:"app",size:"bestUser",get src(){return a.item.image??""}})},get description(){return[f(Q,{mode:"smallVertical",get children(){return f(xe,{get children(){return f(X,{whiteSpace:"nowrap",size:"small",weight:"black",color:"black",get children(){return[y((()=>a.item.member))," ",y((()=>{return e=a.item.member,(r("dec_word_members")??[])[e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2];var e}))]}})}})}}),f(Q,{mode:"smallVertical",get children(){return f(X,t(te,{size:"superSmall",get children(){return f(ee,{padding:"extraSmall",get before(){return f(re,{height:12})},max:10,align:"left",get value(){return a.item.coin}})}}))}})]},get children(){return f(X,t(te,{get children(){return a.item.name}}))}})}}))},Ur=()=>f(ce,{background:"none",get children(){return f(ar,{page:"clan",get loadingMessage(){return f(Sr,{})},endMessage:e=>f(Zr,e),children:(e,r)=>f(Lr,{item:e,get position(){return r()+1},get"data-index"(){return r()}})})}}),Ir=()=>{const[e]=b(),[r,n]=m(R),[l]=m(p),[d]=E(l()?.clan?.id),[c,s]=a(!1),o=()=>{return e={clan:d()?.data?.id??0},g("/main/clan.position",e,(e=>{n((r=>(r.clan.position={...r.clan.position,count:e.position},{...r}))),s(!1)}),(e=>{}));var e};return Z((()=>{if(!d()){const e=h(p)?.clan?.id??0;Ie({clan:e},(r=>{N(e,(e=>({...e,data:r,loading:!1,update_at:new Date(Date.now()+6e4)})))}),(e=>{}))}})),i((()=>{void 0===r().clan.position&&!c()&&d()?.data?.id&&(s(!0),o())})),f(Ne,{get isHidden(){return y((()=>!(r().clan.position&&d()?.data?.id)))()&&0==(r().clan.position?.count||0)},get children(){return f(Q,{mode:"block",get children(){return f(Y,{padding:"default",background:"secondary",get before(){return f(W,{get srcHide(){return f(Ue,{})},mode:"app",size:"default",get src(){return d()?.data?.image??""}})},get after(){return f(xe,{padding:"smooth",background:"lightSecondary",get children(){return f(Le,{padding:!1,get children(){return f(xe,{background:"bgPrimary",padding:"square",align:"center",get children(){return f(X,t(te,{get children(){return[y((()=>r().clan.position?.exactly?"":"≈")),y((()=>r().clan.position?.count))]}}))}})}})}})},get children(){return f(X,t(te,{get children(){return e("clan.your.title")}}))}})}})}})},Rr=()=>{const[e]=m(R),[r]=m(p),[t]=E(r()?.clan?.id);return i((()=>{const e=r()?.clan?.id;e&&(t()?.update_at?.getTime()??0)<=Date.now()&&Re({clan:e})})),f(_,{get when(){return e().tab===$.Clans},get children(){return[f(Ur,{}),f(Ir,{})]}})},Dr=()=>y((()=>f(U,{get each(){return[...Array(10).keys()]},children:(e,r)=>f(Q,{mode:"block",get"data-index"(){return r()},get children(){return f(be,{mode:"SimpleCell",borderRadius:"default",height:"79px",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})}})})))(),Tr=e=>{const[r]=b();return f(A,{get header(){return f(X,t(te,{get children(){return r("system.error.error")}}))},get children(){return f(ae,{get onClick(){return e.handleRating},mode:"outline",get children(){return f(X,t(le,{get children(){return r("system.error.button")}}))}})}})},Ar=e=>{const[r,a]=n(e,["item","position"]),i=()=>ve(r.item.id);return f(Q,t(a,{mode:"block",get children(){return f(Y,{onClick:i,padding:"default",background:"secondary",get after(){return f(xe,{padding:"smooth",background:"lightSecondary",get children(){return f(Le,{padding:!1,get children(){return[f(de,{get level(){return r.item.level}}),f(xe,{background:"bgPrimary",padding:"square",align:"center",get children(){return f(X,t(te,{get children(){return r.position+1}}))}})]}})}})},get before(){return f(W,{size:"default",get src(){return r.item.avatar??""}})},get description(){return f(X,{size:"small",weight:"regular",color:"primary",get children(){return[y((()=>r.item.first_name))," ",y((()=>r.item.last_name))]}})},get children(){return f(X,t(te,{get children(){return r.item.short_name}}))}})}}))},Br=()=>{const[e]=m(p);return f(_,{get when(){return e()?.clan?.id},get children(){return f(ce,{background:"none",get children(){return f(ar,{page:"my_clan",get loadingMessage(){return f(Dr,{})},endMessage:e=>f(Tr,e),children:(e,r)=>f(Ar,{item:e,get position(){return r()},get"data-index"(){return r()}})})}})}})},Fr=()=>{const[e]=m(p),[r]=b(),n=()=>v({modalId:j});return f(_,{get when(){return!e()?.clan?.id},get children(){return f(A,{mode:"lower",get title(){return f(X,t(te,{get children(){return r("clan.you_are_not_member")}}))},get description(){return f(X,t(ze,{get children(){return r("clan.join_any")}}))},get children(){return f(ae,{onClick:n,mode:"outline",streched:!0,get children(){return f(X,t(le,{get children(){return r("clan.search")}}))}})}})}})},Pr=()=>{const[e]=m(R);return f(_,{get when(){return e().tab===$.MyClan},get children(){return[f(Br,{}),f(Fr,{})]}})},Hr=e=>f(q,{blurSafeTop:!0,get header(){return f(_r,{})},get nav(){return e.nav},get children(){return[f(Q,{get children(){return f(De,{mode:"short"})}}),f(Cr,{}),f(Rr,{}),f(Pr,{})]}}),qr="nC",$r=e=>{const[r,a]=n(e,["nav"]),i=V(r.nav);return f(K,t({get class(){return qr},get nav(){return r.nav},get activePanel(){return i()}},a,{get children(){return[f(G,{nav:O,component:yr}),f(G,{nav:J,component:Hr})]}}))};export{$r as default};
