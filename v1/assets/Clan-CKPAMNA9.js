(() => {var e = document.createElement('style');e.innerText = ".DC{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:inline-flex;max-width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;width:100%;overflow:hidden}html[dir=ltr] .NO>*:not(:last-child){padding-right:12px}html[dir=rtl] .xn>*:not(:last-child){padding-left:12px}.gR>*{overflow:hidden;width:100%;max-width:100%;padding:0}.aC{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.cs{overflow:hidden;padding:6px 12px}.MC:first-child{padding-top:12px}.Pa:last-child{padding-bottom:12px}.QY{border-radius:12px;padding:8px 12px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;background-color:var(--bg_primary)}.Dc{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;justify-content:flex-start;width:100%;min-height:22px;border-radius:12px;position:relative;cursor:pointer;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;text-decoration:none;border:0;overflow:hidden;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s;background:none;padding:8px}.LE._hover:after,.ZG._active:after{content:\"\";position:absolute;z-index:2;inset:0}.RV._hover:after{background-color:var(--bg_secondary-hover);opacity:.4}.jG._active:after{background-color:var(--bg_secondary-active);opacity:.6}.kc{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;align-items:flex-start;overflow:hidden}html[dir=ltr] .Ew{padding-right:12px;z-index:3}html[dir=rtl] .Cu{padding-left:12px;z-index:3}.wg>svg,.OJ>svg{display:block}html[dir=ltr] .oU{padding-left:12px;z-index:3}html[dir=rtl] .Cz{padding-right:12px;z-index:3}.cT,.BE{width:100%;overflow:hidden;z-index:3}.OO{background-color:var(--bg_secondary)}.so{background-color:var(--tg_bg_secondary);color:var(--text_primary)}.Cx>.dV{color:var(--tg_bg_primary)}.ua{background-color:var(--vk_bg_secondary);color:var(--text_primary)}.Hz>.Tj{color:var(--vk_bg_primary)}.IS{background-color:var(--tw_bg_secondary);color:var(--text_primary)}.SJ>.uJ{color:var(--tw_bg_primary)}.vg{background-color:var(--yt_bg_secondary);color:var(--text_primary)}.CQ>.au{color:var(--yt_bg_primary)}.fN{background-color:var(--tp_bg_secondary);color:var(--text_primary)}.Xo>.gk{color:var(--tp_bg_primary)}.oQ{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;width:100%}.Hu{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}\n";document.head.appendChild(e)})();import{s as e,t as r,m as t,b as n,i as a,r as i,y as l,z as d,N as s,G as c,f as h,D as o,P as g,T as u,H as m,I as p,J as f,S as v,p as w,aa as b,g as k,h as _,j as x,aQ as C,E as y,F as z,n as L,e as F,Z as M,O as I,K as S,C as A,aH as H,aF as D,a9 as V,a8 as j,k as B,v as E,Q as R,L as Z,a4 as O,ad as P,ae as U,aU as T}from"./index-wsyDUk-t.js";import{S as q,b as G,P as N,G as Q,A as J,h as $,I as K,N as X,L as Y,f as W,a as ee,B as re,o as te,c as ne,j as ae,l as ie,V as le}from"./index-DmXtBlL4.js";import{E as de}from"./Expandable-tQ-jCcea.js";import{I as se}from"./IconRating-DY8aMq7T.js";import{B as ce,a as he,I as oe,b as ge}from"./ButtonMenuGroup-J-36bjM5.js";const ue=e=>{e=e.replace(/(http|https):\/\//g,"");const r=new URL("https://"+e);if(r){if(/vk\.(com|ru|cc|me)/.test(r.host))return"vkontakte";if(/t\.(me)|(telegram\.(org))/.test(r.host))return"telegram";if(/twitch\.(tv|com)/.test(r.host))return"twitch";if(/youtube\.(com|ru|be|in|me)|youtu\.be/.test(r.host))return"youtube";if(/ton\.(place)/.test(r.host))return"ton_place"}return"secondary"};var me=r('<svg xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 class="icon icon-tabler icons-tabler-outline icon-tabler-link"viewBox="0 0 24 24"><path stroke=none d="M0 0h24v24H0z"></path><path d="m9 15 6-6M11 6l.463-.536a5 5 0 0 1 7.071 7.072L18 13M13 18l-.397.534a5.07 5.07 0 0 1-7.127 0 4.97 4.97 0 0 1 0-7.071L6 11">');const pe=(r={})=>{return t=me(),e(t,r,!0,!0),t;var t};var fe=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 16 16"><path fill=#229ED9 d="M8.006 16.013A8.006 8.006 0 1 0 8.006 0a8.006 8.006 0 0 0 0 16.013"></path><path fill=#fff fill-rule=evenodd d="M3.617 7.919A256 256 0 0 1 8.293 5.91c2.22-.923 2.681-1.085 2.98-1.097.063 0 .213.012.312.087.075.062.1.15.113.212s.024.2.012.312c-.125 1.26-.636 4.34-.91 5.749-.113.598-.337.798-.549.823-.461.037-.823-.312-1.272-.599-.698-.461-1.097-.748-1.783-1.197-.786-.524-.275-.81.174-1.272.112-.125 2.17-1.983 2.208-2.157 0-.025.012-.1-.038-.138-.05-.037-.112-.024-.162-.012-.075.012-1.197.76-3.38 2.232-.324.225-.61.324-.873.324-.286 0-.835-.162-1.247-.299-.498-.162-.897-.25-.86-.524.025-.137.224-.286.599-.436"clip-rule=evenodd>');const ve=(r={})=>{return t=fe(),e(t,r,!0,!0),t;var t};var we=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="-2 0 16 16"><path fill=#fff d="M11 7.429 9 9.714H7l-1.75 2v-2H3V1.143h8z"></path><path fill=#9146FF d="M2.5 0 0 2.857v10.286h3V16l2.5-2.857h2L12 8V0zM11 7.429 9 9.714H7l-1.75 2v-2H3V1.143h8z"></path><path fill=#9146FF d="M9.5 3.143h-1V6.57h1zM6.75 3.143h-1V6.57h1z">');const be=(r={})=>{return t=we(),e(t,r,!0,!0),t;var t};var ke=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 101 100"><g clip-path=url(#a)><path fill=#07F d="M.5 48c0-22.627 0-33.941 7.03-40.97C14.558 0 25.872 0 48.5 0h4c22.627 0 33.941 0 40.97 7.03 7.03 7.029 7.03 18.343 7.03 40.97v4c0 22.627 0 33.941-7.03 40.97C86.442 100 75.128 100 52.5 100h-4c-22.627 0-33.941 0-40.97-7.03C.5 85.942.5 74.628.5 52z"></path><path fill=#fff d="M53.709 72.042c-22.792 0-35.792-15.625-36.334-41.625h11.417C29.167 49.5 37.583 57.584 44.25 59.25V30.417H55v16.458c6.584-.708 13.5-8.208 15.833-16.458h10.75c-1.791 10.167-9.291 17.667-14.625 20.75 5.334 2.5 13.876 9.042 17.126 20.875H72.25C69.708 64.125 63.375 58 55 57.167v14.875z"></path></g><defs><clipPath id=a><path fill=#fff d="M.5 0h100v100H.5z">');const _e=(r={})=>{return t=ke(),e(t,r,!0,!0),t;var t};var xe=r('<svg xmlns=http://www.w3.org/2000/svg xml:space=preserve viewBox="0 0 158 110"><path fill=red d="M154.4 17.5c-1.8-6.7-7.1-12-13.9-13.8C128.2.5 79 .5 79 .5s-48.3-.2-60.6 3c-6.8 1.8-13.3 7.3-15.1 14C0 29.7.3 55 .3 55s-.3 25.3 3 37.5c1.8 6.7 8.4 12.2 15.1 14 12.3 3.3 60.6 3 60.6 3s48.3.2 60.6-3c6.8-1.8 13.1-7.3 14.9-14 3.3-12.1 3.3-37.5 3.3-37.5s-.1-25.3-3.4-37.5"></path><path fill=#fff d="M63.9 79.2 103.2 55 63.9 30.8z">');const Ce=(r={})=>{return t=xe(),e(t,r,!0,!0),t;var t};var ye=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 200 200"><mask id=a width=166 height=152 x=17 y=24 maskUnits=userSpaceOnUse style=mask-type:alpha><path fill=#C4C4C4 d="m181.505 75.31-79.008 98.575c-.854 1.065-1.281 1.597-1.796 1.79-.452.169-.95.169-1.402 0-.515-.193-.942-.725-1.796-1.79L18.495 75.31c-.536-.669-.805-1.003-.916-1.377a2 2 0 0 1-.035-1.014c.086-.38.33-.733.82-1.436l19.044-27.4a4 4 0 0 1 .265-.36 2 2 0 0 1 .21-.207c.085-.072.178-.134.363-.26l19.755-13.322a4 4 0 0 1 .379-.24 2 2 0 0 1 .273-.118c.105-.037.215-.061.435-.11l19.886-4.471c.104-.023.155-.035.207-.044q.07-.012.14-.018c.053-.006.106-.008.211-.013L100 24l20.468.92c.105.005.158.007.211.012q.07.007.14.02c.052.008.103.02.207.043l19.886 4.47c.22.05.33.075.435.111q.141.048.273.118c.1.052.193.114.379.24H142l19.753 13.323h.001c.185.125.278.187.362.26q.114.095.211.207c.073.084.137.176.265.36l19.044 27.398c.489.704.734 1.056.82 1.437.076.335.064.685-.035 1.014-.112.374-.38.708-.916 1.377"></path></mask><g mask=url(#a)><path fill=#7EC7FF d="M0 1h200v200H0z"style=mix-blend-mode:hue></path><path fill=#7EC7FF d="M33.977 23.068h132.046v35.45H33.977z"></path><path fill=#75C1FF d="m100 58.519 26.409 28.92H73.591L100 58.52Z"></path><path fill=#7AC6FF d="M44.352 50.122 17 73.446l24.522 6.064z"></path><path fill=#8FCEFF d="M73.59 56.653 41.523 79.51l32.069 7.93V56.652Zm52.819 0 32.068 22.857-32.068 7.93z"></path><path fill=#47A9F1 d="M41.523 79.51 73.59 56.653l-29.238-6.53zm116.954 0-32.068-22.857 29.238-6.53z"></path><path fill=#7AC6FF d="M155.648 50.122 183 73.446l-24.523 6.064z"></path><path fill=#47A9F1 d="M37.75 43.593 17 73.446l27.352-23.323zm124.5-.001L183 73.446l-27.352-23.324z"></path><path fill=#47A9F1 d="M183 73.446 100 177l26.409-89.56L183 73.445Zm-166-.001L100 177 73.59 87.439z"></path><path fill=#309FF1 d="M17 73.446 95.284 177 41.523 79.51zm166 0L104.716 177l53.761-97.49z"></path><path fill=#8DCCFC d="M73.59 87.44 100 190.06l26.409-102.622H73.591Z"></path><path fill=#BFE2F7 d="m100 87.44-15.487 42.448L73.59 87.439H100Zm0 0 15.487 42.448 10.922-42.449z"></path><path fill=#99D1FF d="M73.59 87.44V56.652L100 58.519l-26.41 28.92Zm52.819 0V56.652L100 58.519l26.409 28.92Z"></path><path fill=#ADDCFF d="M86.795 72.98 100 58.518l-26.41-1.866 13.205 16.326Zm26.41 0L100 58.518l26.409-1.866-13.204 16.326Z">');const ze=(r={})=>{return t=ye(),e(t,r,!0,!0),t;var t},Le="DC NO xn gR";var Fe=r("<div>");const Me=r=>{const i=t({},r),[l,d]=n(i,["class","classList","children"]);return s=Fe(),e(s,t({get class(){return Le},get classList(){return{[`${l.class}`]:!!l.class,...l.classList}}},d),!1,!0),a(s,(()=>r.children)),s;var s},Ie=e=>{const r=s(e?.clanId),[n]=c(),a=()=>w({modalId:b});return h(v,{get when(){return o((()=>!r()?.loading))()&&!r()?.data?.id},get children(){return h(g,{mode:"lower",get title(){return h(u,t(m,{get children(){return n("clan.you_are_not_member")}}))},get children(){return h(p,{onClick:a,mode:"outline",streched:!0,get children(){return h(u,t(f,{get children(){return n("clan.search")}}))}})}})}})},Se="aC",Ae="cs MC Pa",He="QY";var De=r("<div>");const Ve=e=>{const r=t({},e),[i,l]=n(r,["before","after","description","class","classList","children"]);return d=De(),a(d,h(q,t(l,{get classList(){return{[He]:!0}},get after(){return i.after},get before(){return i.before},get description(){return i.description},get children(){return i.children}}))),k((e=>{var r=Ae,t={[`${i.class}`]:!!i.class,...i.classList};return r!==e.e&&_(d,e.e=r),e.t=x(d,t,e.t),e}),{e:void 0,t:void 0}),d;var d},je={LinkCell:"Dc LE ZG RV jG",_hover:"_hover",_active:"_active",LinkCell__in:"kc",LinkCell__before:"Ew Cu wg",LinkCell__expandable:"OJ oU Cz dV Tj uJ au gk",LinkCell__description:"cT",LinkCell__children:"BE","LinkCell__mode--secondary":"OO","LinkCell__mode--telegram":"so Cx","LinkCell__mode--vkontakte":"ua Hz","LinkCell__mode--twitch":"IS SJ","LinkCell__mode--youtube":"vg CQ","LinkCell__mode--ton_place":"fN Xo"};var Be=r("<div>"),Ee=r("<div><div>");const Re=e=>{const r=t({iconSize:16},e),[i,l]=n(r,["class","classList","children","url","iconSize"]),d=ue(i.url),s=(e=>{e=e.replace(/(http|https):\/\//g,"");const r=new URL("https://"+e);if(r)return{title:("secondary"===ue(e)?r.host:"")+("/"!==r.pathname?r.pathname:""),href:r.toString()};return{title:"",href:void 0}})(i.url);return h(y,t({target:"_blank",get href(){return s.href},get class(){return je.LinkCell},get classList(){return{[je[`LinkCell__mode--${d}`]]:!!d,[`${i.class}`]:!!i.class,...i.classList}}},l,{get children(){return[(n=Be(),a(n,h(C,{get fallback(){return h(G,{width:"16px",height:"16px"})},get children(){return[h(v,{when:"telegram"===d,get children(){return h(ve,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(v,{when:"twitch"===d,get children(){return h(be,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(v,{when:"vkontakte"===d,get children(){return h(_e,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(v,{when:"youtube"===d,get children(){return h(Ce,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(v,{when:"ton_place"===d,get children(){return h(ze,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(v,{when:"secondary"===d,get children(){return h(pe,{color:"var(--text_primary)",get height(){return i.iconSize},get width(){return i.iconSize}})}})]}})),k((()=>_(n,je.LinkCell__before))),n),(r=Ee(),t=r.firstChild,a(t,h(u,{whiteSpace:"nowrap",weight:"medium",color:"primary",get children(){return s.title}})),k((e=>{var n=je.LinkCell__in,a=je.LinkCell__children;return n!==e.e&&_(r,e.e=n),a!==e.t&&_(t,e.t=a),e}),{e:void 0,t:void 0}),r),(e=Be(),a(e,h(de,{color:"secondary"===d?"secondary":"inherit",size:"small"})),k((()=>_(e,je.LinkCell__expandable))),e)];var e,r,t,n}}))},Ze="oQ",Oe="Hu";var Pe=r("<div>"),Ue=r("<div><div>");const Te=()=>[h(N,{get children(){var e=Pe();return a(e,h(G,{height:"24px",width:"140px"})),k((()=>_(e,Ze))),e}}),h(N,{get children(){return h(Me,{get children(){return[h(Q,{style:{"min-width":"min-content"},width:"max-content",borderRadius:"large",get children(){return[h(G,{background:"primary",height:"160px",width:"160px",borderRadius:"large"}),h(N,{style:{"max-width":"160px"},mode:"block",get children(){return h(G,{background:"primary",height:"26px",width:"100%"})}})]}}),h(Q,{background:"none",borderRadius:"large",get children(){var e=Ue(),r=e.firstChild;return a(r,h(z,{get each(){return[...Array(3).keys()]},children:(e,r)=>{return t=Pe(),a(t,h(G,{height:"34px",width:"100%"}),null),a(t,h(N,{mode:"smallVertical"}),null),k((()=>L(t,"data-index",r()))),t;var t}})),a(e,h(G,{height:"36px",width:"100%"}),null),k((()=>_(e,Oe))),e}})]}})}})];var qe=r("<div><div>"),Ge=r("<div>");const Ne=e=>{const r=s(e?.clanId),[n]=c();return F((()=>{r()})),[h(v,{get when(){return r()?.loading},get children(){return h(Te,{})}}),h(v,{get when(){return r()?.data?.id},get children(){return[h(N,{get children(){return h(u,{align:"center",weight:"black",color:"primary",size:"bigName",get children(){return r()?.data?.name}})}}),h(N,{get children(){return h(Me,{get children(){return[h(Q,{style:{"min-width":"min-content"},width:"max-content",borderRadius:"large",get children(){return[h(J,{get srcHide(){return h($,{})},border:"medium",mode:"large",size:"extraLargeClan",get src(){return r()?.data?.image??""}}),h(N,{style:{"max-width":"160px"},mode:"block",get children(){return h(q,{get before(){return h(K,{height:16})},get children(){return h(X,{align:"right",max:18,get value(){return r()?.data?.coin??0}})}})}})]}}),h(Q,{background:"none",borderRadius:"large",get children(){var e=qe(),i=e.firstChild;return a(i,h(z,{get each(){return r()?.data?.link?.slice(0,4)},children:(e,r)=>{return t=Ge(),a(t,h(Re,{get url(){return e.data}}),null),a(t,h(N,{mode:"smallVertical"}),null),k((()=>L(t,"data-index",r()))),t;var t}})),a(e,h(p,{streched:!0,size:"middle",type:"accent",get children(){return h(u,t(f,{get children(){return n("system.more")}}))}}),null),k((()=>_(e,Se))),e}})]}})}})]}})]},Qe=e=>{const r=s(e?.clanId),[n]=c();return h(v,{get when(){return r()?.data?.is_member},get children(){return h(Q,{get children(){return[h(Y,{get children(){return h(u,t(M,{get children(){return n("menu")}}))}}),h(ce,{get children(){return[h(he,{onClick:()=>{I(A,(e=>(e.tab=S.MyClan,Object.assign({...e})))),w({pageId:H})},get after(){return h(oe,{height:24})},get icon(){return h(se,{height:48})},get children(){return n("rating.rating")}}),h(he,{onClick:()=>{w({pageId:D})},get after(){return h(oe,{height:24})},get icon(){return h(ge,{height:48})},get children(){return n("settings.settings")}})]}})]}})}})},Je=()=>h(W,{streched:!0,get children(){return[h(G,{width:"100%",height:"40px"}),h(G,{width:"100%",height:"40px"})]}}),$e=e=>{const r=s(e?.clanId),[n]=c(),a=()=>w({modalId:V}),i=()=>w({modalId:j});return[h(v,{get when(){return r()?.loading},get children(){return h(Je,{})}}),h(v,{get when(){return o((()=>!(r()?.loading||!r()?.data)))()&&r()?.data?.is_member},get children(){return h(W,{streched:!0,get children(){return[h(p,{type:"accent",size:"middle",streched:!0,get children(){return h(u,t(f,{get children(){return n("clan.invite")}}))}}),h(p,{onClick:a,mode:"outline",size:"middle",streched:!0,get children(){return h(u,t(f,{get children(){return n("clan.leave.title")}}))}})]}})}}),h(v,{get when(){return o((()=>!(r()?.loading||!r()?.data)))()&&!r()?.data?.is_member},get children(){return h(W,{streched:!0,get children(){return[h(p,{mode:"outline",size:"middle",streched:!0,get children(){return h(u,t(f,{get children(){return n("clan.invite")}}))}}),h(p,{onClick:i,type:"accent",size:"middle",streched:!0,get children(){return h(u,t(f,{get children(){return n("clan.join.title")}}))}})]}})}})]},Ke=()=>o((()=>h(z,{get each(){return[...Array(6).keys()]},children:(e,r)=>h(G,{get"data-index"(){return r()},mode:"UserCell",background:"primary",borderRadius:"default",height:"56px",width:"auto",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})})))(),Xe=e=>{const[r,a]=n(e,["item","position"]);return h(Ve,t(a,{onClick:()=>te(r.item.id),get after(){return h(ee,{padding:"smooth",background:"lightSecondary",get children(){return h(W,{padding:!1,get children(){return[h(re,{get level(){return r.item.level}}),h(ee,{background:"bgPrimary",padding:"square",align:"center",get children(){return h(u,t(m,{get children(){return r.position+1}}))}})]}})}})},get before(){return h(J,{size:"default",get src(){return r.item.avatar??""}})},get description(){return h(u,{size:"small",weight:"regular",color:"primary",get children(){return[o((()=>r.item.first_name))," ",o((()=>r.item.last_name))]}})},get children(){return h(u,t(m,{get children(){return r.item.short_name}}))}}))},Ye=e=>{const r=s(e?.clanId),[n]=c(),[a,w]=B([]),b=async()=>{const e=(a().length+1||1)-1,t=r()?.data?.members?.pages[e],n=r()?.data?.id;if(n){if(!t)return await new Promise((e=>{((e,r,t)=>{let n=new AbortController;(async()=>{const a=i(l),{error:s,response:c}=await d({name:"/main/clan.member",controller:n,params:e,headers:{Authorization:a}});s?t&&t(s):c&&r&&r(c)})()})({clan:n,page:(r()?.data?.members?.pages||[]).length+1||1},(r=>{I(R,(e=>{let t=e[n].data;return t&&!t.members&&(t.members={full_load:!1,update_at:new Date,pages:[]}),t?.members&&(r.length>0?(t.members={...t.members,update_at:new Date(Date.now()+3e5),error_load:!1},t.members.pages[t.members.pages.length]=r):t.members.full_load=!0,w(Array.from(t.members.pages))),Array.from(e)})),e(!0)}),(r=>{I(R,(e=>{let r=e[n].data;return r?.members&&(r.members.error_load=!1),Array.from(e)})),e(!0)}))}));w((r=>(r[e]=Array.from(t),Array.from(r))))}};return E((()=>{let e=r()?.data;if(e?.members){const r=e.id;e.members.update_at.getTime()<Date.now()&&I(R,(e=>{let t=e[r].data;return t?.members&&(t.members.pages=[]),Array.from(e)})),0===a().length&&e.members.pages.length>=1&&w(Array.from(e.members.pages.slice(0,2)))}})),h(ne,{get scrollTreshold(){return window.innerHeight/2},get each(){return a()},get loadingMessage(){return h(Ke,{})},get endMessage(){return[h(v,{get when(){return o((()=>!(r()?.data?.members?.error_load||!r()?.data?.members?.full_load)))()&&0==r()?.data?.members?.pages.length},get children(){return h(g,{get header(){return h(u,t(m,{get children(){return n("clan.users.empty")}}))}})}}),h(v,{get when(){return r()?.data?.members?.error_load},get children(){return h(g,{get header(){return h(u,t(m,{get children(){return n("system.error.error")}}))},get children(){return h(p,{onClick:b,mode:"outline",get children(){return h(u,t(f,{get children(){return n("system.error.button")}}))}})}})}})]},get hasMore(){return!!o((()=>!r()?.data?.members?.error_load))()&&!r()?.data?.members?.full_load},next:b,children:(e,r)=>h(Xe,{item:e,get position(){return r()},get"data-index"(){return r()}})})},We=()=>[h(Y,{type:"header",get after(){return h(G,{background:"primary",height:"34px",width:"40px"})},get children(){return h(G,{background:"primary",height:"22px",width:"100px"})}}),h(Ke,{})],er=e=>{const r=s(e?.clanId),[n]=c();return[h(v,{get when(){return!!r()?.loading},get children(){return h(Q,{get children(){return h(We,{})}})}}),h(v,{get when(){return r()?.data?.id},get children(){return h(Q,{get children(){return[h(Y,{type:"header",get after(){return h(ee,{background:"none",get description(){return h(u,{color:"secondary",size:"superSmall",align:"center",weight:"black",get children(){return n("active")}})},get children(){return h(u,{color:"accent",size:"medium",weight:"black",children:"665"})}})},get children(){return h(q,{get before(){return h(u,t(M,{get children(){return n("members")}}))},get children(){return h(ee,{get children(){return h(u,{color:"black",size:"medium",weight:"black",get children(){return r()?.data?.member??0}})}})}})}}),h(Ye,{get clanId(){return e?.clanId}})]}})}})]},rr=e=>{const r=Z({panelId:e.nav});F((()=>{r()}));return O((()=>{const e=r()?.clan;if(!e)return;const t=i(R)[e];return(t?.update_at?.getTime()??0)>Date.now()?void 0:(I(R,(r=>(r[e]||(r[e]={}),r[e].loading=!0,Array.from(r)))),ae({clan:e},(r=>{I(R,(t=>(t[e]||(t[e]={}),t[e].data=r,t[e].loading=!1,t[e].update_at=new Date(Date.now()+6e4),Array.from(t))))}),(e=>{})))}),void 0!==r()?.clan),h(P,{get nav(){return e.nav},get children(){return[h(Ie,{get clanId(){return r()?.clan}}),h(Ne,{get clanId(){return r()?.clan}}),h($e,{get clanId(){return r()?.clan}}),h(Qe,{get clanId(){return r()?.clan}}),h(er,{get clanId(){return r()?.clan}})]}})},tr="F",nr=e=>{const[r,a]=n(e,["nav"]),i=U(r.nav);return h(le,t({get class(){return tr},get nav(){return r.nav},get activePanel(){return i()}},a,{get children(){return h(ie,{nav:T,component:rr})}}))};export{nr as default};
