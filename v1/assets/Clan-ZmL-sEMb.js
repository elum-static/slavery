(() => {var e = document.createElement('style');e.innerText = ".Av{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:inline-flex;max-width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;width:100%;overflow:hidden}html[dir=ltr] .rd>*:not(:last-child){padding-right:12px}html[dir=rtl] .IJ>*:not(:last-child){padding-left:12px}.xa>*{overflow:hidden;width:100%;max-width:100%;padding:0}.Yd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.Ej{overflow:hidden;padding:6px 12px}.dB:first-child{padding-top:12px}.Fj:last-child{padding-bottom:12px}.Tw{border-radius:12px;padding:8px 12px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;background-color:var(--bg_primary)}.YO{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;justify-content:flex-start;width:100%;min-height:22px;border-radius:12px;position:relative;cursor:pointer;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;text-decoration:none;border:0;overflow:hidden;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s;background:none;padding:8px}.Rl._hover:after,.TQ._active:after{content:\"\";position:absolute;z-index:2;inset:0}.sQ._hover:after{background-color:var(--bg_secondary-hover);opacity:.4}.dk._active:after{background-color:var(--bg_secondary-active);opacity:.6}.zh{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;align-items:flex-start;overflow:hidden}html[dir=ltr] .VY{padding-right:12px;z-index:3}html[dir=rtl] .Oq{padding-left:12px;z-index:3}.Or>svg,.qi>svg{display:block}html[dir=ltr] .aR{padding-left:12px;z-index:3}html[dir=rtl] .JF{padding-right:12px;z-index:3}.Sm,.PH{width:100%;overflow:hidden;z-index:3}.ur{background-color:var(--bg_secondary)}.Ll{background-color:var(--tg_bg_secondary);color:var(--text_primary)}.aa>.CS{color:var(--tg_bg_primary)}.iv{background-color:var(--vk_bg_secondary);color:var(--text_primary)}.oP>.ei{color:var(--vk_bg_primary)}.EN{background-color:var(--tw_bg_secondary);color:var(--text_primary)}.VD>.sq{color:var(--tw_bg_primary)}.Vm{background-color:var(--yt_bg_secondary);color:var(--text_primary)}.Ty>.ls{color:var(--yt_bg_primary)}.Pz{background-color:var(--tp_bg_secondary);color:var(--text_primary)}.fu>.Uu{color:var(--tp_bg_primary)}.PN{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;width:100%}.xA{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}\n";document.head.appendChild(e)})();import{f as e,t as r,m as t,s as n,i as a,w as i,T as l,x as d,H as s,A as c,h,z as o,P as g,S as u,B as m,a3 as p,j as f,k as v,l as w,aK as b,F as k,o as x,I as _,E as y,R as C,ay as z,ax as L,a2 as F,a1 as M,C as A,c as I,r as S,J as H,G as V,e as B,aB as D,a6 as E,a7 as R,aO as j}from"./index-DR0OTs49.js";import{T as P,b as Z,d as q,e as T,S as U,f as O,E as G,P as N,G as $,A as J,k as Y,I as Q,N as K,L as W,c as X,i as ee,a as re,B as te,g as ne,m as ae,o as ie,V as le}from"./index-Bs5ennDs.js";import{E as de}from"./Expandable-D3QMufFa.js";import{I as se}from"./IconRating-C4DaQZZb.js";import{B as ce,a as he,I as oe,b as ge}from"./ButtonMenuGroup-CeHw47f6.js";const ue=e=>{e=e.replace(/(http|https):\/\//g,"");const r=new URL("https://"+e);if(r){if(/vk\.(com|ru|cc|me)/.test(r.host))return"vkontakte";if(/t\.(me)|(telegram\.(org))/.test(r.host))return"telegram";if(/twitch\.(tv|com)/.test(r.host))return"twitch";if(/youtube\.(com|ru|be|in|me)|youtu\.be/.test(r.host))return"youtube";if(/ton\.(place)/.test(r.host))return"ton_place"}return"secondary"};var me=r('<svg xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 class="icon icon-tabler icons-tabler-outline icon-tabler-link"viewBox="0 0 24 24"><path stroke=none d="M0 0h24v24H0z"></path><path d="m9 15 6-6M11 6l.463-.536a5 5 0 0 1 7.071 7.072L18 13M13 18l-.397.534a5.07 5.07 0 0 1-7.127 0 4.97 4.97 0 0 1 0-7.071L6 11">');const pe=(r={})=>{return t=me(),e(t,r,!0,!0),t;var t};var fe=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 16 16"><path fill=url(#a) d="M8.006 16.013A8.006 8.006 0 1 0 8.006 0a8.006 8.006 0 0 0 0 16.013"></path><path fill=#fff fill-rule=evenodd d="M3.617 7.919A256 256 0 0 1 8.293 5.91c2.22-.923 2.681-1.085 2.98-1.097.063 0 .213.012.312.087.075.062.1.15.113.212s.024.2.012.312c-.125 1.26-.636 4.34-.91 5.749-.113.598-.337.798-.549.823-.461.037-.823-.312-1.272-.599-.698-.461-1.097-.748-1.783-1.197-.786-.524-.275-.81.174-1.272.112-.125 2.17-1.983 2.208-2.157 0-.025.012-.1-.038-.138-.05-.037-.112-.024-.162-.012-.075.012-1.197.76-3.38 2.232-.324.225-.61.324-.873.324-.286 0-.835-.162-1.247-.299-.498-.162-.897-.25-.86-.524.025-.137.224-.286.599-.436"clip-rule=evenodd></path><defs><linearGradient id=a x1=0 x2=16.001 y1=8 y2=8 gradientUnits=userSpaceOnUse><stop stop-color=#2AABEE></stop><stop offset=1 stop-color=#229ED9>');const ve=(r={})=>{return t=fe(),e(t,r,!0,!0),t;var t};var we=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="-2 0 16 16"><path fill=#fff d="M11 7.429 9 9.714H7l-1.75 2v-2H3V1.143h8z"></path><path fill=#9146FF d="M2.5 0 0 2.857v10.286h3V16l2.5-2.857h2L12 8V0zM11 7.429 9 9.714H7l-1.75 2v-2H3V1.143h8z"></path><path fill=#9146FF d="M9.5 3.143h-1V6.57h1zM6.75 3.143h-1V6.57h1z">');const be=(r={})=>{return t=we(),e(t,r,!0,!0),t;var t};var ke=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 101 100"><g clip-path=url(#a)><path fill=#07F d="M.5 48c0-22.627 0-33.941 7.03-40.97C14.558 0 25.872 0 48.5 0h4c22.627 0 33.941 0 40.97 7.03 7.03 7.029 7.03 18.343 7.03 40.97v4c0 22.627 0 33.941-7.03 40.97C86.442 100 75.128 100 52.5 100h-4c-22.627 0-33.941 0-40.97-7.03C.5 85.942.5 74.628.5 52z"></path><path fill=#fff d="M53.709 72.042c-22.792 0-35.792-15.625-36.334-41.625h11.417C29.167 49.5 37.583 57.584 44.25 59.25V30.417H55v16.458c6.584-.708 13.5-8.208 15.833-16.458h10.75c-1.791 10.167-9.291 17.667-14.625 20.75 5.334 2.5 13.876 9.042 17.126 20.875H72.25C69.708 64.125 63.375 58 55 57.167v14.875z"></path></g><defs><clipPath id=a><path fill=#fff d="M.5 0h100v100H.5z">');const xe=(r={})=>{return t=ke(),e(t,r,!0,!0),t;var t};var _e=r('<svg xmlns=http://www.w3.org/2000/svg xml:space=preserve viewBox="0 0 158 110"><path fill=red d="M154.4 17.5c-1.8-6.7-7.1-12-13.9-13.8C128.2.5 79 .5 79 .5s-48.3-.2-60.6 3c-6.8 1.8-13.3 7.3-15.1 14C0 29.7.3 55 .3 55s-.3 25.3 3 37.5c1.8 6.7 8.4 12.2 15.1 14 12.3 3.3 60.6 3 60.6 3s48.3.2 60.6-3c6.8-1.8 13.1-7.3 14.9-14 3.3-12.1 3.3-37.5 3.3-37.5s-.1-25.3-3.4-37.5"></path><path fill=#fff d="M63.9 79.2 103.2 55 63.9 30.8z">');const ye=(r={})=>{return t=_e(),e(t,r,!0,!0),t;var t};var Ce=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 200 200"><mask id=a width=166 height=152 x=17 y=24 maskUnits=userSpaceOnUse style=mask-type:alpha><path fill=#C4C4C4 d="m181.505 75.31-79.008 98.575c-.854 1.065-1.281 1.597-1.796 1.79-.452.169-.95.169-1.402 0-.515-.193-.942-.725-1.796-1.79L18.495 75.31c-.536-.669-.805-1.003-.916-1.377a2 2 0 0 1-.035-1.014c.086-.38.33-.733.82-1.436l19.044-27.4a4 4 0 0 1 .265-.36 2 2 0 0 1 .21-.207c.085-.072.178-.134.363-.26l19.755-13.322a4 4 0 0 1 .379-.24 2 2 0 0 1 .273-.118c.105-.037.215-.061.435-.11l19.886-4.471c.104-.023.155-.035.207-.044q.07-.012.14-.018c.053-.006.106-.008.211-.013L100 24l20.468.92c.105.005.158.007.211.012q.07.007.14.02c.052.008.103.02.207.043l19.886 4.47c.22.05.33.075.435.111q.141.048.273.118c.1.052.193.114.379.24H142l19.753 13.323h.001c.185.125.278.187.362.26q.114.095.211.207c.073.084.137.176.265.36l19.044 27.398c.489.704.734 1.056.82 1.437.076.335.064.685-.035 1.014-.112.374-.38.708-.916 1.377"></path></mask><g mask=url(#a)><path fill=#7EC7FF d="M0 1h200v200H0z"style=mix-blend-mode:hue></path><path fill=#7EC7FF d="M33.977 23.068h132.046v35.45H33.977z"></path><path fill=#75C1FF d="m100 58.519 26.409 28.92H73.591L100 58.52Z"></path><path fill=#7AC6FF d="M44.352 50.122 17 73.446l24.522 6.064z"></path><path fill=#8FCEFF d="M73.59 56.653 41.523 79.51l32.069 7.93V56.652Zm52.819 0 32.068 22.857-32.068 7.93z"></path><path fill=#47A9F1 d="M41.523 79.51 73.59 56.653l-29.238-6.53zm116.954 0-32.068-22.857 29.238-6.53z"></path><path fill=#7AC6FF d="M155.648 50.122 183 73.446l-24.523 6.064z"></path><path fill=#47A9F1 d="M37.75 43.593 17 73.446l27.352-23.323zm124.5-.001L183 73.446l-27.352-23.324z"></path><path fill=#47A9F1 d="M183 73.446 100 177l26.409-89.56L183 73.445Zm-166-.001L100 177 73.59 87.439z"></path><path fill=#309FF1 d="M17 73.446 95.284 177 41.523 79.51zm166 0L104.716 177l53.761-97.49z"></path><path fill=#8DCCFC d="M73.59 87.44 100 190.06l26.409-102.622H73.591Z"></path><path fill=#BFE2F7 d="m100 87.44-15.487 42.448L73.59 87.439H100Zm0 0 15.487 42.448 10.922-42.449z"></path><path fill=#99D1FF d="M73.59 87.44V56.652L100 58.519l-26.41 28.92Zm52.819 0V56.652L100 58.519l26.409 28.92Z"></path><path fill=#ADDCFF d="M86.795 72.98 100 58.518l-26.41-1.866 13.205 16.326Zm26.41 0L100 58.518l26.409-1.866-13.204 16.326Z">');const ze=(r={})=>{return t=Ce(),e(t,r,!0,!0),t;var t},Le="Av rd IJ xa";var Fe=r("<div>");const Me=r=>{const i=t({},r),[l,d]=n(i,["class","classList","children"]);return s=Fe(),e(s,t({get class(){return Le},get classList(){return{[`${l.class}`]:!!l.class,...l.classList}}},d),!1,!0),a(s,(()=>r.children)),s;var s},Ae=e=>{const r=s(e?.clanId),[n]=c(),a=()=>m({modalId:p});return h(u,{get when(){return o((()=>!r()?.loading))()&&!r()?.data?.id},get children(){return h(g,{mode:"lower",get title(){return h(P,t(Z,{get children(){return n("clan.you_are_not_member")}}))},get children(){return h(q,{onClick:a,mode:"outline",streched:!0,get children(){return h(P,t(T,{get children(){return n("clan.search")}}))}})}})}})},Ie="Yd",Se="Ej dB Fj",He="Tw";var Ve=r("<div>");const Be=e=>{const r=t({},e),[i,l]=n(r,["before","after","description","class","classList","children"]);return d=Ve(),a(d,h(U,t(l,{get classList(){return{[He]:!0}},get after(){return i.after},get before(){return i.before},get description(){return i.description},get children(){return i.children}}))),f((e=>{var r=Se,t={[`${i.class}`]:!!i.class,...i.classList};return r!==e.e&&v(d,e.e=r),e.t=w(d,t,e.t),e}),{e:void 0,t:void 0}),d;var d},De={LinkCell:"YO Rl TQ sQ dk",_hover:"_hover",_active:"_active",LinkCell__in:"zh",LinkCell__before:"VY Oq Or",LinkCell__expandable:"qi aR JF CS ei sq ls Uu",LinkCell__description:"Sm",LinkCell__children:"PH","LinkCell__mode--secondary":"ur","LinkCell__mode--telegram":"Ll aa","LinkCell__mode--vkontakte":"iv oP","LinkCell__mode--twitch":"EN VD","LinkCell__mode--youtube":"Vm Ty","LinkCell__mode--ton_place":"Pz fu"};var Ee=r("<div>"),Re=r("<div><div>");const je=e=>{const r=t({iconSize:16},e),[i,l]=n(r,["class","classList","children","url","iconSize"]),d=ue(i.url),s=(e=>{e=e.replace(/(http|https):\/\//g,"");const r=new URL("https://"+e);if(r)return{title:("secondary"===ue(e)?r.host:"")+("/"!==r.pathname?r.pathname:""),href:r.toString()};return{title:"",href:void 0}})(i.url);return h(G,t({target:"_blank",get href(){return s.href},get class(){return De.LinkCell},get classList(){return{[De[`LinkCell__mode--${d}`]]:!!d,[`${i.class}`]:!!i.class,...i.classList}}},l,{get children(){return[(n=Ee(),a(n,h(b,{get fallback(){return h(O,{width:"16px",height:"16px"})},get children(){return[h(u,{when:"telegram"===d,get children(){return h(ve,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(u,{when:"twitch"===d,get children(){return h(be,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(u,{when:"vkontakte"===d,get children(){return h(xe,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(u,{when:"youtube"===d,get children(){return h(ye,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(u,{when:"ton_place"===d,get children(){return h(ze,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),h(u,{when:"secondary"===d,get children(){return h(pe,{color:"var(--text_primary)",get height(){return i.iconSize},get width(){return i.iconSize}})}})]}})),f((()=>v(n,De.LinkCell__before))),n),(r=Re(),t=r.firstChild,a(t,h(P,{whiteSpace:"nowrap",weight:"medium",color:"primary",get children(){return s.title}})),f((e=>{var n=De.LinkCell__in,a=De.LinkCell__children;return n!==e.e&&v(r,e.e=n),a!==e.t&&v(t,e.t=a),e}),{e:void 0,t:void 0}),r),(e=Ee(),a(e,h(de,{color:"secondary"===d?"secondary":"inherit",size:"small"})),f((()=>v(e,De.LinkCell__expandable))),e)];var e,r,t,n}}))},Pe="PN",Ze="xA";var qe=r("<div>"),Te=r("<div><div>");const Ue=()=>[h(N,{get children(){var e=qe();return a(e,h(O,{height:"24px",width:"140px"})),f((()=>v(e,Pe))),e}}),h(N,{get children(){return h(Me,{get children(){return[h($,{style:{"min-width":"min-content"},width:"max-content",borderRadius:"large",get children(){return[h(O,{background:"primary",height:"160px",width:"160px",borderRadius:"large"}),h(N,{style:{"max-width":"160px"},mode:"block",get children(){return h(O,{background:"primary",height:"26px",width:"100%"})}})]}}),h($,{background:"none",borderRadius:"large",get children(){var e=Te(),r=e.firstChild;return a(r,h(k,{get each(){return[...Array(3).keys()]},children:(e,r)=>{return t=qe(),a(t,h(O,{height:"34px",width:"100%"}),null),a(t,h(N,{mode:"smallVertical"}),null),f((()=>x(t,"data-index",r()))),t;var t}})),a(e,h(O,{height:"36px",width:"100%"}),null),f((()=>v(e,Ze))),e}})]}})}})];var Oe=r("<div><div>"),Ge=r("<div>");const Ne=e=>{const r=s(e?.clanId),[n]=c();return[h(u,{get when(){return r()?.loading},get children(){return h(Ue,{})}}),h(u,{get when(){return r()?.data?.id},get children(){return[h(N,{get children(){return h(P,{align:"center",weight:"black",color:"primary",size:"bigName",get children(){return r()?.data?.name}})}}),h(N,{get children(){return h(Me,{get children(){return[h($,{style:{"min-width":"min-content"},width:"max-content",borderRadius:"large",get children(){return[h(J,{get srcHide(){return h(Y,{})},border:"medium",mode:"large",size:"extraLargeClan",get src(){return r()?.data?.avatar??""}}),h(N,{style:{"max-width":"160px"},mode:"block",get children(){return h(U,{get before(){return h(Q,{height:16})},get children(){return h(K,{align:"right",max:18,get value(){return r()?.data?.coin??0}})}})}})]}}),h($,{background:"none",borderRadius:"large",get children(){var e=Oe(),i=e.firstChild;return a(i,h(k,{get each(){return r()?.data?.link?.slice(0,4)},children:(e,r)=>{return t=Ge(),a(t,h(je,{get url(){return e.data}}),null),a(t,h(N,{mode:"smallVertical"}),null),f((()=>x(t,"data-index",r()))),t;var t}})),a(e,h(q,{streched:!0,size:"middle",type:"accent",get children(){return h(P,t(T,{get children(){return n("system.more")}}))}}),null),f((()=>v(e,Ie))),e}})]}})}})]}})]},$e=e=>{const r=s(e?.clanId),[n]=c();return h(u,{get when(){return r()?.data?.is_member},get children(){return h($,{get children(){return[h(W,{get children(){return h(P,t(X,{get children(){return n("menu")}}))}}),h(ce,{get children(){return[h(he,{onClick:()=>{_(C,(e=>(e.tab=y.MyClan,Object.assign({...e})))),m({pageId:z})},get after(){return h(oe,{height:24})},get icon(){return h(se,{height:48})},get children(){return n("rating.rating")}}),h(he,{onClick:()=>{m({pageId:L})},get after(){return h(oe,{height:24})},get icon(){return h(ge,{height:48})},get children(){return n("settings.settings")}})]}})]}})}})},Je=()=>h(ee,{streched:!0,get children(){return[h(O,{width:"100%",height:"40px"}),h(O,{width:"100%",height:"40px"})]}}),Ye=e=>{const r=s(e?.clanId),[n]=c(),a=()=>m({modalId:F}),i=()=>m({modalId:M});return[h(u,{get when(){return r()?.loading},get children(){return h(Je,{})}}),h(u,{get when(){return o((()=>!(r()?.loading||!r()?.data)))()&&r()?.data?.is_member},get children(){return h(ee,{streched:!0,get children(){return[h(q,{type:"accent",size:"middle",streched:!0,get children(){return h(P,t(T,{get children(){return n("clan.invite")}}))}}),h(q,{onClick:a,mode:"outline",size:"middle",streched:!0,get children(){return h(P,t(T,{get children(){return n("clan.leave.title")}}))}})]}})}}),h(u,{get when(){return o((()=>!(r()?.loading||!r()?.data)))()&&!r()?.data?.is_member},get children(){return h(ee,{streched:!0,get children(){return[h(q,{mode:"outline",size:"middle",streched:!0,get children(){return h(P,t(T,{get children(){return n("clan.invite")}}))}}),h(q,{onClick:i,type:"accent",size:"middle",streched:!0,get children(){return h(P,t(T,{get children(){return n("clan.join.title")}}))}})]}})}})]},Qe=()=>o((()=>h(k,{get each(){return[...Array(6).keys()]},children:(e,r)=>h(O,{get"data-index"(){return r()},mode:"UserCell",background:"primary",borderRadius:"default",height:"56px",width:"auto",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})})))(),Ke=e=>{const[r,a]=n(e,["item","position"]);return h(Be,t(a,{onClick:()=>m({modalId:A,params:{user:r.item.id}}),get after(){return h(re,{padding:"smooth",background:"lightSecondary",get children(){return h(ee,{padding:!1,get children(){return[h(te,{get level(){return r.item.level}}),h(re,{background:"bgPrimary",padding:"square",align:"center",get children(){return h(P,t(Z,{get children(){return r.position+1}}))}})]}})}})},get before(){return h(J,{size:"default",get src(){return r.item.avatar??""}})},get description(){return h(P,{size:"small",weight:"regular",color:"primary",get children(){return[o((()=>r.item.first_name))," ",o((()=>r.item.last_name))]}})},get children(){return h(P,t(Z,{get children(){return r.item.short_name}}))}}))},We=e=>{const r=s(e?.clanId),[n]=c(),[a,m]=I([]),p=async()=>{const e=(a().length+1||1)-1,t=r()?.data?.members?.pages[e],n=r()?.data?.id;if(n){if(!t)return await new Promise((e=>{((e,r,t)=>{let n=new AbortController;(async()=>{const a=i(l),{error:s,response:c}=await d({name:"/main/clan.member",controller:n,params:e,headers:{Authorization:a}});s?t&&t(s):c&&r&&r(c)})()})({clan:n,page:(r()?.data?.members?.pages||[]).length+1||1},(r=>{_(H,(e=>{let t=e[n].data;return t&&!t.members&&(t.members={full_load:!1,update_at:new Date,pages:[]}),t?.members&&(r.length>0?(t.members={...t.members,update_at:new Date(Date.now()+3e5),error_load:!1},t.members.pages[t.members.pages.length]=r):t.members.full_load=!0,m(Array.from(t.members.pages))),Array.from(e)})),e(!0)}),(r=>{_(H,(e=>{let r=e[n].data;return r?.members&&(r.members.error_load=!1),Array.from(e)})),e(!0)}))}));m((r=>(r[e]=Array.from(t),Array.from(r))))}};return S((()=>{let e=r()?.data;if(e?.members){const r=e.id;e.members.update_at.getTime()<Date.now()&&_(H,(e=>{let t=e[r].data;return t?.members&&(t.members.pages=[]),Array.from(e)})),0===a().length&&e.members.pages.length>=1&&m(Array.from(e.members.pages.slice(0,2)))}})),h(ne,{get scrollTreshold(){return window.innerHeight/2},get each(){return a()},get loadingMessage(){return h(Qe,{})},get endMessage(){return[h(u,{get when(){return o((()=>!(r()?.data?.members?.error_load||!r()?.data?.members?.full_load)))()&&0==r()?.data?.members?.pages.length},get children(){return h(g,{get header(){return h(P,t(Z,{get children(){return n("clan.users.empty")}}))}})}}),h(u,{get when(){return r()?.data?.members?.error_load},get children(){return h(g,{get header(){return h(P,t(Z,{get children(){return n("system.error.error")}}))},get children(){return h(q,{onClick:p,mode:"outline",get children(){return h(P,t(T,{get children(){return n("system.error.button")}}))}})}})}})]},get hasMore(){return!!o((()=>!r()?.data?.members?.error_load))()&&!r()?.data?.members?.full_load},next:p,children:(e,r)=>h(Ke,{item:e,get position(){return r()},get"data-index"(){return r()}})})},Xe=()=>[h(W,{type:"header",get after(){return h(O,{background:"primary",height:"34px",width:"40px"})},get children(){return h(O,{background:"primary",height:"22px",width:"100px"})}}),h(Qe,{})],er=e=>{const r=s(e?.clanId),[n]=c();return[h(u,{get when(){return!!r()?.loading},get children(){return h($,{get children(){return h(Xe,{})}})}}),h(u,{get when(){return r()?.data?.id},get children(){return h($,{get children(){return[h(W,{type:"header",get after(){return h(re,{background:"none",get description(){return h(P,{color:"secondary",size:"superSmall",align:"center",weight:"black",get children(){return n("active")}})},get children(){return h(P,{color:"accent",size:"medium",weight:"black",children:"665"})}})},get children(){return h(U,{get before(){return h(P,t(X,{get children(){return n("members")}}))},get children(){return h(re,{get children(){return h(P,{color:"black",size:"medium",weight:"black",get children(){return r()?.data?.member??0}})}})}})}}),h(We,{get clanId(){return e?.clanId}})]}})}})]},rr=e=>{const r=V({panelId:e.nav});B((()=>{r()}));return D((()=>{const e=r()?.clan;if(!e)return;const t=i(H)[e];return(t?.update_at?.getTime()??0)>Date.now()?void 0:(_(H,(r=>(r[e]||(r[e]={}),r[e].loading=!0,Array.from(r)))),ae({clan:e},(r=>{_(H,(t=>(t[e]||(t[e]={}),t[e].data=r,t[e].loading=!1,t[e].update_at=new Date(Date.now()+6e4),Array.from(t))))}),(e=>{})))}),void 0!==r()?.clan),h(E,{get nav(){return e.nav},get children(){return[h(Ae,{get clanId(){return r()?.clan}}),h(Ne,{get clanId(){return r()?.clan}}),h(Ye,{get clanId(){return r()?.clan}}),h($e,{get clanId(){return r()?.clan}}),h(er,{get clanId(){return r()?.clan}})]}})},tr="x",nr=e=>{const[r,a]=n(e,["nav"]),i=R(r.nav);return h(le,t({get class(){return tr},get nav(){return r.nav},get activePanel(){return i()}},a,{get children(){return h(ie,{nav:j,component:rr})}}))};export{nr as default};
