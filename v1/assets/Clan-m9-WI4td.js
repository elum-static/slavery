(() => {var e = document.createElement('style');e.innerText = ".Er{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:inline-flex;max-width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;width:100%;overflow:hidden}html[dir=ltr] .Bk>*:not(:last-child){padding-right:12px}html[dir=rtl] .cD>*:not(:last-child){padding-left:12px}.Ti>*{overflow:hidden;width:100%;max-width:100%;padding:0}.wx{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;justify-content:flex-start;width:100%;min-height:22px;border-radius:12px;position:relative;cursor:pointer;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;text-decoration:none;border:0;overflow:hidden;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s;background:none;padding:8px}.PE._hover:after,.JS._active:after{content:\"\";position:absolute;z-index:2;inset:0}.Qo._hover:after{background-color:var(--bg_secondary-hover);opacity:.4}.vr._active:after{background-color:var(--bg_secondary-active);opacity:.6}.NK{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;align-items:flex-start;overflow:hidden}html[dir=ltr] .qt{padding-right:12px;z-index:3}html[dir=rtl] .JP{padding-left:12px;z-index:3}.LT>svg,.Sl>svg{display:block}html[dir=ltr] .XD{padding-left:12px;z-index:3}html[dir=rtl] .Ml{padding-right:12px;z-index:3}.sM,.LQ{width:100%;overflow:hidden;z-index:3}.aB{background-color:var(--bg_secondary)}.NL{background-color:var(--tg_bg_secondary);color:var(--text_primary)}.TW>.gs{color:var(--tg_bg_primary)}.jo{background-color:var(--vk_bg_secondary);color:var(--text_primary)}.VB>.ff{color:var(--vk_bg_primary)}.As{background-color:var(--tw_bg_secondary);color:var(--text_primary)}.cO>.KZ{color:var(--tw_bg_primary)}.cn{background-color:var(--yt_bg_secondary);color:var(--text_primary)}.RH>.gp{color:var(--yt_bg_primary)}.fr{background-color:var(--tp_bg_secondary);color:var(--text_primary)}.qz>.UP{color:var(--tp_bg_primary)}.wv{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.mo{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;width:100%}.LO{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}\n";document.head.appendChild(e)})();import{f as e,t as r,m as t,s as n,i as a,w as i,T as l,x as d,h as s,aG as h,S as c,j as o,k as g,H as u,A as m,z as p,P as w,B as f,a1 as v,F as b,o as C,I as _,E as k,R as x,aw as y,av as L,a0 as M,_ as F,C as z,c as H,r as Z,J as S,G as V,e as I,aK as A,a4 as B,a5 as D,aL as E}from"./index-Buk8lAYO.js";import{f as R,T as j,E as P,b as U,d as T,e as G,P as O,G as N,A as q,k as J,S as K,I as $,N as Q,L as W,c as X,i as Y,a as ee,B as re,U as te,g as ne,m as ae,o as ie,V as le}from"./index-BE7qhlvF.js";import{E as de}from"./Expandable-CP26AOTd.js";import{I as se}from"./IconRating-vgLgTYsz.js";import{B as he,a as ce,I as oe,b as ge}from"./ButtonMenuGroup-D83poAAG.js";const ue=e=>{e=e.replace(/(http|https):\/\//g,"");const r=new URL("https://"+e);if(r){if(/vk\.(com|ru|cc|me)/.test(r.host))return"vkontakte";if(/t\.(me)|(telegram\.(org))/.test(r.host))return"telegram";if(/twitch\.(tv|com)/.test(r.host))return"twitch";if(/youtube\.(com|ru|be|in|me)|youtu\.be/.test(r.host))return"youtube";if(/ton\.(place)/.test(r.host))return"ton_place"}return"secondary"};var me=r('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-link"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M9 15l6 -6"></path><path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"></path><path d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463">');const pe=(r={})=>{return t=me(),e(t,r,!0,!0),t;var t};var we=r('<svg viewBox="0 0 16 16"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.00624 16.0125C12.428 16.0125 16.0125 12.428 16.0125 8.00624C16.0125 3.58451 12.428 0 8.00624 0C3.58451 0 0 3.58451 0 8.00624C0 12.428 3.58451 16.0125 8.00624 16.0125Z"fill=url(#_paint_linear_telegram)></path><path fill-rule=evenodd clip-rule=evenodd d="M3.61653 7.91894C5.94857 6.89634 7.50741 6.23539 8.29307 5.91115C10.5129 4.98831 10.9743 4.82619 11.2736 4.81372C11.3359 4.81372 11.4856 4.82619 11.5854 4.90102C11.6602 4.96337 11.6851 5.05067 11.6976 5.11302C11.7101 5.17537 11.7225 5.31255 11.7101 5.42479C11.5854 6.68434 11.0741 9.76462 10.7997 11.1738C10.6875 11.7724 10.463 11.9719 10.251 11.9969C9.78956 12.0343 9.42791 11.6851 8.97896 11.3983C8.2806 10.9369 7.88154 10.65 7.19564 10.2011C6.40998 9.67732 6.92129 9.39049 7.37023 8.92908C7.48247 8.80437 9.54015 6.94622 9.57756 6.77163C9.57756 6.74669 9.59003 6.67187 9.54015 6.63445C9.49027 6.59704 9.42791 6.60951 9.37803 6.62198C9.3032 6.63445 8.18083 7.3827 5.99845 8.85425C5.67421 9.07872 5.38738 9.17849 5.1255 9.17849C4.83867 9.17849 4.28995 9.01637 3.87842 8.87919C3.37959 8.71707 2.98052 8.62978 3.01794 8.35542C3.04288 8.21824 3.24241 8.06859 3.61653 7.91894Z"fill=white></path><defs><linearGradient id=_paint_linear_telegram x1=0 y1=8.00044 x2=16.0009 y2=8.00044 gradientUnits=userSpaceOnUse><stop stop-color=#2AABEE></stop><stop offset=1 stop-color=#229ED9>');const fe=(r={})=>{return t=we(),e(t,r,!0,!0),t;var t};var ve=r('<svg viewBox="-2 0 16 16"fill=none xmlns=http://www.w3.org/2000/svg><path d="M11 7.4286L9 9.71431H7L5.25 11.7143V9.71431H3V1.14288H11V7.4286Z"fill=white></path><path d="M2.5 0L0 2.85714V13.1429H3V16L5.5 13.1429H7.5L12 8V0H2.5ZM11 7.42857L9 9.71429H7L5.25 11.7143V9.71429H3V1.14286H11V7.42857Z"fill=#9146FF></path><path d="M9.5 3.14288H8.5V6.57145H9.5V3.14288Z"fill=#9146FF></path><path d="M6.75 3.14288H5.75V6.57145H6.75V3.14288Z"fill=#9146FF>');const be=(r={})=>{return t=ve(),e(t,r,!0,!0),t;var t};var Ce=r('<svg viewBox="0 0 101 100"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_2_40)><path d="M0.5 48C0.5 25.3726 0.5 14.0589 7.52944 7.02944C14.5589 0 25.8726 0 48.5 0H52.5C75.1274 0 86.4411 0 93.4706 7.02944C100.5 14.0589 100.5 25.3726 100.5 48V52C100.5 74.6274 100.5 85.9411 93.4706 92.9706C86.4411 100 75.1274 100 52.5 100H48.5C25.8726 100 14.5589 100 7.52944 92.9706C0.5 85.9411 0.5 74.6274 0.5 52V48Z"fill=#0077FF></path><path d="M53.7085 72.042C30.9168 72.042 17.9169 56.417 17.3752 30.417H28.7919C29.1669 49.5003 37.5834 57.5836 44.25 59.2503V30.417H55.0004V46.8752C61.5837 46.1669 68.4995 38.667 70.8329 30.417H81.5832C79.7915 40.5837 72.2915 48.0836 66.9582 51.1669C72.2915 53.6669 80.8336 60.2086 84.0836 72.042H72.2499C69.7082 64.1253 63.3754 58.0003 55.0004 57.1669V72.042H53.7085Z"fill=white></path></g><defs><clipPath id=clip0_2_40><rect width=100 height=100 fill=white transform=translate(0.5)>');const _e=(r={})=>{return t=Ce(),e(t,r,!0,!0),t;var t};var ke=r('<svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewBox="0 0 158 110"enable-background="new 0 0 158 110"xml:space=preserve><path fill=#f00 d="M154.4,17.5c-1.8-6.7-7.1-12-13.9-13.8C128.2,0.5,79,0.5,79,0.5s-48.3-0.2-60.6,3 c-6.8,1.8-13.3,7.3-15.1,14C0,29.7,0.3,55,0.3,55S0,80.3,3.3,92.5c1.8,6.7,8.4,12.2,15.1,14c12.3,3.3,60.6,3,60.6,3s48.3,0.2,60.6-3 c6.8-1.8,13.1-7.3,14.9-14c3.3-12.1,3.3-37.5,3.3-37.5S157.7,29.7,154.4,17.5z"></path><polygon fill=#fff points="63.9,79.2 103.2,55 63.9,30.8 ">');const xe=(r={})=>{return t=ke(),e(t,r,!0,!0),t;var t};var ye=r('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 200 200"><mask id=a width=166 height=152 x=17 y=24 maskUnits=userSpaceOnUse style=mask-type:alpha><path fill=#C4C4C4 d="m181.505 75.31-79.008 98.575c-.854 1.065-1.281 1.597-1.796 1.79-.452.169-.95.169-1.402 0-.515-.193-.942-.725-1.796-1.79L18.495 75.31c-.536-.669-.805-1.003-.916-1.377a2 2 0 0 1-.035-1.014c.086-.38.33-.733.82-1.436l19.044-27.4a4.16 4.16 0 0 1 .265-.36c.065-.073.135-.143.21-.207.085-.072.178-.134.363-.26l19.755-13.322c.186-.125.28-.188.379-.24.087-.046.179-.086.273-.118.105-.037.215-.061.435-.11l19.886-4.471c.104-.023.155-.035.207-.044.047-.008.093-.014.14-.018.053-.006.106-.008.211-.013L100 24l20.468.92c.105.005.158.007.211.012.047.005.093.011.14.02.052.008.103.02.207.043l19.886 4.47c.22.05.33.075.435.111.094.032.185.072.273.118.1.052.193.114.379.24H142l19.753 13.323h.001c.185.125.278.187.362.26.076.063.146.133.211.207.073.084.137.176.265.36l19.044 27.398c.489.704.734 1.056.82 1.437.076.335.064.685-.035 1.014-.112.374-.38.708-.916 1.377Z"></path></mask><g mask=url(#a)><path fill=#7EC7FF d="M0 1h200v200H0z"style=mix-blend-mode:hue></path><path fill=#7EC7FF d="M33.977 23.068h132.046v35.45H33.977v-35.45Z"></path><path fill=#75C1FF d="m100 58.519 26.409 28.92H73.591L100 58.52Z"></path><path fill=#7AC6FF d="M44.352 50.122 17 73.446l24.522 6.064 2.83-29.388Z"></path><path fill=#8FCEFF d="M73.59 56.653 41.523 79.51l32.069 7.93V56.652ZM126.409 56.653l32.068 22.857-32.068 7.93V56.652Z"></path><path fill=#47A9F1 d="M41.523 79.51 73.59 56.653l-29.238-6.53-2.83 29.387ZM158.477 79.51l-32.068-22.857 29.238-6.53 2.83 29.387Z"></path><path fill=#7AC6FF d="M155.648 50.122 183 73.446l-24.523 6.064-2.829-29.388Z"></path><path fill=#47A9F1 d="M37.75 43.593 17 73.446l27.352-23.323-6.603-6.53ZM162.25 43.592 183 73.446l-27.352-23.324 6.602-6.53Z"></path><path fill=#47A9F1 d="M183 73.446 100 177l26.409-89.56L183 73.445ZM17 73.445 100 177 73.59 87.439 17 73.445Z"></path><path fill=#309FF1 d="M17 73.446 95.284 177 41.523 79.51 17 73.446ZM183 73.446 104.716 177l53.761-97.49L183 73.446Z"></path><path fill=#8DCCFC d="M73.59 87.44 100 190.06l26.409-102.622H73.591Z"></path><path fill=#BFE2F7 d="m100 87.44-15.487 42.448L73.59 87.439H100ZM100 87.44l15.487 42.448 10.922-42.449H100Z"></path><path fill=#99D1FF d="M73.59 87.44V56.652L100 58.519l-26.41 28.92ZM126.409 87.44V56.652L100 58.519l26.409 28.92Z"></path><path fill=#ADDCFF d="M86.795 72.98 100 58.518l-26.41-1.866 13.205 16.326ZM113.205 72.98 100 58.518l26.409-1.866-13.204 16.326Z">');const Le=(r={})=>{return t=ye(),e(t,r,!0,!0),t;var t},Me="Er Bk cD Ti";var Fe=r("<div>");const ze=r=>{const i=t({},r),[l,d]=n(i,["class","classList","children"]);return s=Fe(),e(s,t({get class(){return Me},get classList(){return{[`${l.class}`]:!!l.class,...l.classList}}},d),!1,!0),a(s,(()=>r.children)),s;var s},He={LinkCell:"wx PE JS Qo vr",_hover:"_hover",_active:"_active",LinkCell__in:"NK",LinkCell__before:"qt JP LT",LinkCell__expandable:"Sl XD Ml gs ff KZ gp UP",LinkCell__description:"sM",LinkCell__children:"LQ","LinkCell__mode--secondary":"aB","LinkCell__mode--telegram":"NL TW","LinkCell__mode--vkontakte":"jo VB","LinkCell__mode--twitch":"As cO","LinkCell__mode--youtube":"cn RH","LinkCell__mode--ton_place":"fr qz"};var Ze=r("<div>"),Se=r("<div><div>");const Ve=e=>{const r=t({iconSize:16},e),[i,l]=n(r,["class","classList","children","url","iconSize"]),d=ue(i.url),u=(e=>{e=e.replace(/(http|https):\/\//g,"");const r=new URL("https://"+e);if(r)return{title:("secondary"===ue(e)?r.host:"")+("/"!==r.pathname?r.pathname:""),href:r.toString()};return{title:"",href:void 0}})(i.url);return s(P,t({target:"_blank",get href(){return u.href},get class(){return He.LinkCell},get classList(){return{[He[`LinkCell__mode--${d}`]]:!!d,[`${i.class}`]:!!i.class,...i.classList}}},l,{get children(){return[(n=Ze(),a(n,s(h,{get fallback(){return s(R,{width:"16px",height:"16px"})},get children(){return[s(c,{when:"telegram"===d,get children(){return s(fe,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),s(c,{when:"twitch"===d,get children(){return s(be,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),s(c,{when:"vkontakte"===d,get children(){return s(_e,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),s(c,{when:"youtube"===d,get children(){return s(xe,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),s(c,{when:"ton_place"===d,get children(){return s(Le,{get height(){return i.iconSize},get width(){return i.iconSize}})}}),s(c,{when:"secondary"===d,get children(){return s(pe,{color:"var(--text_primary)",get height(){return i.iconSize},get width(){return i.iconSize}})}})]}})),o((()=>g(n,He.LinkCell__before))),n),(r=Se(),t=r.firstChild,a(t,s(j,{whiteSpace:"nowrap",weight:"medium",color:"primary",get children(){return u.title}})),o((e=>{var n=He.LinkCell__in,a=He.LinkCell__children;return n!==e.e&&g(r,e.e=n),a!==e.t&&g(t,e.t=a),e}),{e:void 0,t:void 0}),r),(e=Ze(),a(e,s(de,{color:"secondary"===d?"secondary":"inherit",size:"small"})),o((()=>g(e,He.LinkCell__expandable))),e)];var e,r,t,n}}))},Ie=e=>{const r=u(e?.clanId),[n]=m(),a=()=>f({modalId:v});return s(c,{get when(){return p((()=>!r()?.loading))()&&!r()?.data?.id},get children(){return s(w,{mode:"lower",get title(){return s(j,t(U,{get children(){return n("clan.you_are_not_member")}}))},get children(){return s(T,{onClick:a,mode:"outline",streched:!0,get children(){return s(j,t(G,{get children(){return n("clan.search")}}))}})}})}})},Ae="wv",Be="mo",De="LO";var Ee=r("<div>"),Re=r("<div><div>");const je=()=>[s(O,{get children(){var e=Ee();return a(e,s(R,{height:"24px",width:"140px"})),o((()=>g(e,Be))),e}}),s(O,{get children(){return s(ze,{get children(){return[s(N,{style:{"min-width":"min-content"},width:"max-content",borderRadius:"large",get children(){return[s(R,{background:"primary",height:"160px",width:"160px",borderRadius:"large"}),s(O,{style:{"max-width":"160px"},mode:"block",get children(){return s(R,{background:"primary",height:"26px",width:"100%"})}})]}}),s(N,{background:"none",borderRadius:"large",get children(){var e=Re(),r=e.firstChild;return a(r,s(b,{get each(){return[...Array(3).keys()]},children:(e,r)=>{return t=Ee(),a(t,s(R,{height:"34px",width:"100%"}),null),a(t,s(O,{mode:"smallVertical"}),null),o((()=>C(t,"data-index",r()))),t;var t}})),a(e,s(R,{height:"36px",width:"100%"}),null),o((()=>g(e,De))),e}})]}})}})];var Pe=r("<div><div>"),Ue=r("<div>");const Te=e=>{const r=u(e?.clanId),[n]=m();return[s(c,{get when(){return r()?.loading},get children(){return s(je,{})}}),s(c,{get when(){return r()?.data?.id},get children(){return[s(O,{get children(){return s(j,{align:"center",weight:"black",color:"primary",size:"bigName",get children(){return r()?.data?.name}})}}),s(O,{get children(){return s(ze,{get children(){return[s(N,{style:{"min-width":"min-content"},width:"max-content",borderRadius:"large",get children(){return[s(q,{get srcHide(){return s(J,{})},border:"medium",mode:"large",size:"extraLargeClan",get src(){return r()?.data?.avatar??""}}),s(O,{style:{"max-width":"160px"},mode:"block",get children(){return s(K,{get before(){return s($,{height:16})},get children(){return s(Q,{align:"right",max:18,get value(){return r()?.data?.coin??0}})}})}})]}}),s(N,{background:"none",borderRadius:"large",get children(){var e=Pe(),i=e.firstChild;return a(i,s(b,{get each(){return r()?.data?.link?.slice(0,4)},children:(e,r)=>{return t=Ue(),a(t,s(Ve,{get url(){return e.data}}),null),a(t,s(O,{mode:"smallVertical"}),null),o((()=>C(t,"data-index",r()))),t;var t}})),a(e,s(T,{streched:!0,size:"middle",type:"accent",get children(){return s(j,t(G,{get children(){return n("system.more")}}))}}),null),o((()=>g(e,Ae))),e}})]}})}})]}})]},Ge=e=>{const r=u(e?.clanId),[n]=m();return s(c,{get when(){return r()?.data?.is_member},get children(){return s(N,{get children(){return[s(W,{get children(){return s(j,t(X,{get children(){return n("menu")}}))}}),s(he,{get children(){return[s(ce,{onClick:()=>{_(x,(e=>(e.tab=k.MyClan,Object.assign({...e})))),f({pageId:y})},get after(){return s(oe,{height:24})},get icon(){return s(se,{height:48})},get children(){return n("rating.rating")}}),s(ce,{onClick:()=>{f({pageId:L})},get after(){return s(oe,{height:24})},get icon(){return s(ge,{height:48})},get children(){return n("settings.settings")}})]}})]}})}})},Oe=()=>s(Y,{streched:!0,get children(){return[s(R,{width:"100%",height:"40px"}),s(R,{width:"100%",height:"40px"})]}}),Ne=e=>{const r=u(e?.clanId),[n]=m(),a=()=>f({modalId:M}),i=()=>f({modalId:F});return[s(c,{get when(){return r()?.loading},get children(){return s(Oe,{})}}),s(c,{get when(){return p((()=>!(r()?.loading||!r()?.data)))()&&r()?.data?.is_member},get children(){return s(Y,{streched:!0,get children(){return[s(T,{type:"accent",size:"middle",streched:!0,get children(){return s(j,t(G,{get children(){return n("clan.invite")}}))}}),s(T,{onClick:a,mode:"outline",size:"middle",streched:!0,get children(){return s(j,t(G,{get children(){return n("clan.leave.title")}}))}})]}})}}),s(c,{get when(){return p((()=>!(r()?.loading||!r()?.data)))()&&!r()?.data?.is_member},get children(){return s(Y,{streched:!0,get children(){return[s(T,{mode:"outline",size:"middle",streched:!0,get children(){return s(j,t(G,{get children(){return n("clan.invite")}}))}}),s(T,{onClick:i,type:"accent",size:"middle",streched:!0,get children(){return s(j,t(G,{get children(){return n("clan.join.title")}}))}})]}})}})]},qe=()=>p((()=>s(b,{get each(){return[...Array(6).keys()]},children:(e,r)=>s(R,{get"data-index"(){return r()},mode:"UserCell",background:"primary",borderRadius:"default",height:"56px",width:"auto",before:{width:"40px",height:"40px","border-radius":"50px"},after:{width:"80px",height:"30px","border-radius":"12px"},children:{width:"100%",height:"24px","border-radius":"8px"}})})))(),Je=e=>{const[r,a]=n(e,["item","position"]);return s(te,t(a,{onClick:()=>f({modalId:z,params:{user:r.item.id}}),get after(){return s(ee,{padding:"smooth",background:"lightSecondary",get children(){return s(Y,{padding:!1,get children(){return[s(re,{get level(){return r.item.level}}),s(ee,{background:"bgPrimary",padding:"square",align:"center",get children(){return s(j,t(U,{get children(){return r.position+1}}))}})]}})}})},get before(){return s(q,{size:"default",get src(){return r.item.avatar??""}})},get description(){return s(j,{size:"small",weight:"regular",color:"primary",get children(){return[p((()=>r.item.first_name))," ",p((()=>r.item.last_name))]}})},get children(){return s(j,t(U,{get children(){return r.item.short_name}}))}}))},Ke=e=>{const r=u(e?.clanId),[n]=m(),[a,h]=H([]),o=async()=>{const e=(a().length+1||1)-1,t=r()?.data?.members?.pages[e],n=r()?.data?.id;if(n){if(!t)return await new Promise((e=>{((e,r,t)=>{let n=new AbortController;(async()=>{const a=i(l),{error:s,response:h}=await d({name:"/main/clan.member",controller:n,params:e,headers:{Authorization:a}});s?t&&t(s):h&&r&&r(h)})()})({clan:n,page:(r()?.data?.members?.pages||[]).length+1||1},(r=>{_(S,(e=>{let t=e[n].data;return t&&!t.members&&(t.members={full_load:!1,update_at:new Date,pages:[]}),t?.members&&(r.length>0?(t.members={...t.members,update_at:new Date(Date.now()+3e5),error_load:!1},t.members.pages[t.members.pages.length]=r):t.members.full_load=!0,h(Array.from(t.members.pages))),Array.from(e)})),e(!0)}),(r=>{_(S,(e=>{let r=e[n].data;return r?.members&&(r.members.error_load=!1),Array.from(e)})),e(!0)}))}));h((r=>(r[e]=Array.from(t),Array.from(r))))}};return Z((()=>{let e=r()?.data;if(e?.members){const r=e.id;e.members.update_at.getTime()<Date.now()&&_(S,(e=>{let t=e[r].data;return t?.members&&(t.members.pages=[]),Array.from(e)})),0===a().length&&e.members.pages.length>=1&&h(Array.from(e.members.pages.slice(0,2)))}})),s(ne,{get scrollTreshold(){return window.innerHeight/2},get each(){return a()},get loadingMessage(){return s(qe,{})},get endMessage(){return[s(c,{get when(){return p((()=>!(r()?.data?.members?.error_load||!r()?.data?.members?.full_load)))()&&0==r()?.data?.members?.pages.length},get children(){return s(w,{get header(){return s(j,t(U,{get children(){return n("clan.users.empty")}}))}})}}),s(c,{get when(){return r()?.data?.members?.error_load},get children(){return s(w,{get header(){return s(j,t(U,{get children(){return n("system.error.error")}}))},get children(){return s(T,{onClick:o,mode:"outline",get children(){return s(j,t(G,{get children(){return n("system.error.button")}}))}})}})}})]},get hasMore(){return!!p((()=>!r()?.data?.members?.error_load))()&&!r()?.data?.members?.full_load},next:o,children:(e,r)=>s(Je,{item:e,get position(){return r()},get"data-index"(){return r()}})})},$e=()=>[s(W,{type:"header",get after(){return s(R,{background:"primary",height:"34px",width:"40px"})},get children(){return s(R,{background:"primary",height:"22px",width:"100px"})}}),s(qe,{})],Qe=e=>{const r=u(e?.clanId),[n]=m();return[s(c,{get when(){return!!r()?.loading},get children(){return s(N,{get children(){return s($e,{})}})}}),s(c,{get when(){return r()?.data?.id},get children(){return s(N,{get children(){return[s(W,{type:"header",get after(){return s(ee,{background:"none",get description(){return s(j,{color:"secondary",size:"superSmall",align:"center",weight:"black",get children(){return n("active")}})},get children(){return s(j,{color:"accent",size:"medium",weight:"black",children:"665"})}})},get children(){return s(K,{get before(){return s(j,t(X,{get children(){return n("members")}}))},get children(){return s(ee,{get children(){return s(j,{color:"black",size:"medium",weight:"black",get children(){return r()?.data?.member??0}})}})}})}}),s(Ke,{get clanId(){return e?.clanId}})]}})}})]},We=e=>{const r=V({panelId:e.nav});I((()=>{r()}));return A((()=>{const e=r()?.clan;if(!e)return;const t=i(S)[e];return(t?.update_at?.getTime()??0)>Date.now()?void 0:(_(S,(r=>(r[e]||(r[e]={}),r[e].loading=!0,Array.from(r)))),ae({clan:e},(r=>{_(S,(t=>(t[e]||(t[e]={}),t[e].data=r,t[e].loading=!1,t[e].update_at=new Date(Date.now()+6e4),Array.from(t))))}),(e=>{})))}),void 0!==r()?.clan),s(B,{get nav(){return e.nav},get children(){return[s(Ie,{get clanId(){return r()?.clan}}),s(Te,{get clanId(){return r()?.clan}}),s(Ne,{get clanId(){return r()?.clan}}),s(Ge,{get clanId(){return r()?.clan}}),s(Qe,{get clanId(){return r()?.clan}})]}})},Xe="h",Ye=e=>{const[r,a]=n(e,["nav"]),i=D(r.nav);return s(le,t({get class(){return Xe},get nav(){return r.nav},get activePanel(){return i()}},a,{get children(){return s(ie,{nav:E,component:We})}}))};export{Ye as default};
